{"version":3,"file":"component---src-pages-markov-js-05df6d9d349999b3e873.js","mappings":"wKAGA,MAAMA,EAAI,CACRC,SAASC,EAAGC,GAEV,YADUC,IAANF,IAAiBA,EAAIC,GAClBE,MAAMC,QAAQJ,GAAKA,EAAI,CAACA,EAAGA,EACpC,EACAK,IAAIC,EAAIC,GACN,MAAO,CAACD,EAAG,GAAKC,EAAG,GAAID,EAAG,GAAKC,EAAG,GACpC,EACAC,IAAIF,EAAIC,GACN,MAAO,CAACD,EAAG,GAAKC,EAAG,GAAID,EAAG,GAAKC,EAAG,GACpC,EACAE,MAAMH,EAAIC,GACRD,EAAG,IAAMC,EAAG,GACZD,EAAG,IAAMC,EAAG,EACd,EACAG,MAAMJ,EAAIC,GACRD,EAAG,IAAMC,EAAG,GACZD,EAAG,IAAMC,EAAG,EACd,GAEF,SAASI,EAAWC,EAAUC,EAAWC,GACvC,OAAkB,IAAdD,GAAmBE,KAAKC,IAAIH,KAAeI,IAAiBF,KAAKG,IAAIN,EAAqB,EAAXE,GAC5EF,EAAWC,EAAYC,GAAYD,EAAYC,EAAWF,EACnE,CACA,SAASO,EAAwBC,EAAUC,EAAKC,EAAKR,EAAW,KAC9D,OAAiB,IAAbA,EA5BN,SAAed,EAAGqB,EAAKC,GACrB,OAAOP,KAAKO,IAAID,EAAKN,KAAKM,IAAIrB,EAAGsB,GACnC,CA0B6BC,CAAMH,EAAUC,EAAKC,GAC5CF,EAAWC,GAAaV,EAAWU,EAAMD,EAAUE,EAAMD,EAAKP,GAAYO,EAC1ED,EAAWE,GAAaX,EAAWS,EAAWE,EAAKA,EAAMD,EAAKP,GAAYQ,EACvEF,CACT,CCnBA,SAASI,EAAeC,GACtB,IAAIC,EAZN,SAAsBC,EAAOC,GAC3B,GAAqB,iBAAVD,GAAgC,OAAVA,EAAgB,OAAOA,EACxD,IAAIE,EAAOF,EAAMG,OAAOC,aACxB,QAAa7B,IAAT2B,EAAoB,CACtB,IAAIG,EAAMH,EAAKI,KAAKN,EAAOC,GAAQ,WACnC,GAAmB,iBAARI,EAAkB,OAAOA,EACpC,MAAM,IAAIE,UAAU,+CACtB,CACA,OAAiB,WAATN,EAAoBO,OAASC,QAAQT,EAC/C,CAGYU,CAAaZ,EAAK,UAC5B,MAAsB,iBAARC,EAAmBA,EAAMS,OAAOT,EAChD,CAEA,SAASY,EAAgBC,EAAKb,EAAKc,GAYjC,OAXAd,EAAMF,EAAeE,MACVa,EACTE,OAAOC,eAAeH,EAAKb,EAAK,CAC9Bc,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIb,GAAOc,EAEND,CACT,CAEA,SAASO,EAAQC,EAAGC,GAClB,IAAIC,EAAIR,OAAOS,KAAKH,GACpB,GAAIN,OAAOU,sBAAuB,CAChC,IAAIC,EAAIX,OAAOU,sBAAsBJ,GACrCC,IAAMI,EAAIA,EAAEC,QAAO,SAAUL,GAC3B,OAAOP,OAAOa,yBAAyBP,EAAGC,GAAGL,UAC/C,KAAKM,EAAEM,KAAKC,MAAMP,EAAGG,EACvB,CACA,OAAOH,CACT,CACA,SAASQ,EAAeV,GACtB,IAAK,IAAIC,EAAI,EAAGA,EAAIU,UAAUC,OAAQX,IAAK,CACzC,IAAIC,EAAI,MAAQS,UAAUV,GAAKU,UAAUV,GAAK,CAAC,EAC/CA,EAAI,EAAIF,EAAQL,OAAOQ,IAAI,GAAIW,SAAQ,SAAUZ,GAC/CV,EAAgBS,EAAGC,EAAGC,EAAED,GAC1B,IAAKP,OAAOoB,0BAA4BpB,OAAOqB,iBAAiBf,EAAGN,OAAOoB,0BAA0BZ,IAAMH,EAAQL,OAAOQ,IAAIW,SAAQ,SAAUZ,GAC7IP,OAAOC,eAAeK,EAAGC,EAAGP,OAAOa,yBAAyBL,EAAGD,GACjE,GACF,CACA,OAAOD,CACT,CAEA,MAAMgB,EAAiB,CACrBC,QAAS,CACPC,MAAO,OACPC,OAAQ,OACRC,IAAK,MAEPC,MAAO,CACLH,MAAO,OACPC,OAAQ,OACRC,IAAK,MAEPE,MAAO,CACLJ,MAAO,QACPC,OAAQ,OACRC,IAAK,OAEPG,QAAS,CACPL,MAAO,QACPC,OAAQ,SACRC,IAAK,QAGT,SAASI,EAAWC,GAClB,OAAKA,EACEA,EAAO,GAAGC,cAAgBD,EAAOE,MAAM,GAD1B,EAEtB,CACA,MAAMC,EAAiC,CAAC,QAAS,SAIjD,SAASC,EAAcC,EAAQC,EAAS,GAAIC,GAAU,GACpD,MAAMC,EAAcjB,EAAec,GAC7BI,EAAYD,GAAcA,EAAYF,IAAoBA,EAChE,MAAO,KAAOP,EAAWM,GAAUN,EAAWU,IANhD,SAAoBF,GAAU,EAAOE,GACnC,OAAOF,IAAYJ,EAA+BO,SAASD,EAC7D,CAI8DE,CAAWJ,EAASE,GAAa,UAAY,GAC3G,CACA,MAAMG,EAAuB,CAAC,oBAAqB,sBACnD,SAASC,EAAUC,GACjB,IAAIC,EAAWD,EAAKE,UAAU,GAAGC,cACjC,MAAMC,KAAaH,EAASI,QAAQ,WAChCD,IAASH,EAAWA,EAASK,QAAQ,UAAW,KACpD,MAAMC,EAAaT,EAAqBF,SAASK,GAAY,iBAAmB,UAC1ER,KAAaQ,EAASI,QAAQE,GAEpC,OADId,IAASQ,EAAWA,EAASK,QAAQ,UAAW,KAC7C,CACLf,OAAQU,EACRR,UACAW,UAEJ,CAMA,SAASI,EAAQC,GACf,MAAO,YAAaA,CACtB,CACA,SAASC,EAAeD,GACtB,OAAID,EAAQC,GAAe,QACvB,gBAAiBA,EAAcA,EAAME,YAClC,OACT,CAUA,SAASC,EAAcH,GACrB,OAAOD,EAAQC,GAJjB,SAAsBA,GACpB,MAAsB,aAAfA,EAAMI,MAAsC,gBAAfJ,EAAMI,KAAyBJ,EAAMK,eAAiBL,EAAMM,aAClG,CAE0BC,CAAaP,GAAO,GAAKA,CACnD,CAkBA,SAASQ,EAASR,GAChB,OA9BF,SAAmCA,GACjC,OAAO5F,MAAMqG,KAAKT,EAAMU,SAASpD,QAAON,IACtC,IAAI2D,EAAsBC,EAC1B,OAAO5D,EAAE6D,SAAWb,EAAMc,gBAAmE,QAAhDH,EAAuBX,EAAMc,qBAAoD,IAAzBH,GAA+F,QAA3DC,EAAwBD,EAAqBI,gBAAgD,IAA1BH,OAAmC,EAASA,EAAsB1E,KAAKyE,EAAsB3D,EAAE6D,QAAQ,GAEvT,CAyBSG,CAA0BhB,GAAOiB,KAAI3C,GAASA,EAAM4C,YAC7D,CAKA,SAASC,EAAUnB,GACjB,MAAMoB,EAAajB,EAAcH,GACjC,OAAOD,EAAQC,GAASoB,EAAWF,WAAaE,EAAWD,SAC7D,CACA,SAASE,EAAcrB,GACrB,MAAMoB,EAAajB,EAAcH,GACjC,MAAO,CAACoB,EAAWE,QAASF,EAAWG,QACzC,CAgDA,SAASrF,EAAKjC,KAAMuH,GAClB,MAAiB,mBAANvH,EACFA,KAAKuH,GAELvH,CAEX,CACA,SAASwH,IAAQ,CACjB,SAASC,KAASC,GAChB,OAAmB,IAAfA,EAAI/D,OAAqB6D,EACV,IAAfE,EAAI/D,OAAqB+D,EAAI,GAC1B,WACL,IAAIC,EACJ,IAAK,MAAMC,KAAMF,EACfC,EAASC,EAAGpE,MAAMqE,KAAMnE,YAAciE,EAExC,OAAOA,CACT,CACF,CACA,SAASG,EAActF,EAAOvC,GAC5B,OAAOwC,OAAOsF,OAAO,CAAC,EAAG9H,EAAUuC,GAAS,CAAC,EAC/C,CAGA,MAAMwF,EACJC,YAAYC,EAAMX,EAAM7F,GACtBmG,KAAKK,KAAOA,EACZL,KAAKN,KAAOA,EACZM,KAAKnG,IAAMA,EACNmG,KAAKM,QACRN,KAAKM,MAAQ,CAAC,EACdN,KAAKO,cAAc,CAAC,EAAG,IACvBP,KAAKQ,iBACDR,KAAKS,MAAMT,KAAKS,OACpBT,KAAKU,QAET,CACIJ,YACF,OAAON,KAAKK,KAAKC,MAAMN,KAAKnG,IAC9B,CACIyG,UAAMA,GACRN,KAAKK,KAAKC,MAAMN,KAAKnG,KAAOyG,CAC9B,CACIK,aACF,OAAOX,KAAKK,KAAKC,MAAMK,MACzB,CACIC,iBACF,OAAOZ,KAAKK,KAAKQ,mBAAmBb,KAAKnG,IAC3C,CACIiH,mBACF,OAAOd,KAAKK,KAAKU,qBAAqBf,KAAKnG,IAC7C,CACImH,aACF,OAAOhB,KAAKK,KAAKW,OAAOhB,KAAKnG,IAC/B,CACIoH,mBACF,OAAOjB,KAAKK,KAAKW,OAAOL,MAC1B,CACIO,cACF,OAAOlB,KAAKK,KAAKc,SAASnB,KAAKnG,IACjC,CACA6G,QACE,MAAM,MACJJ,EAAK,OACLK,EAAM,OACNS,EAAM,KACN1B,GACEM,KACJW,EAAOS,GAAUd,EAAMe,QAAUf,EAAMgB,OAAShB,EAAMiB,SAAWjB,EAAMkB,QAAS,EAChFlB,EAAMmB,MAAQ,EAAC,GAAO,GACtBnB,EAAMoB,aAAc,EACpBpB,EAAMqB,UAAY,CAAC,EAAG,GACtBrB,EAAMsB,UAAY,CAAC,EAAG,GACtBtB,EAAMuB,WAAa,CAAC,EAAG,GACvBvB,EAAMwB,OAAS,CAAC,EAAG,GACnBxB,EAAMyB,QAAU,CAAC,EAAE3I,IAAUA,KAAW,EAAEA,IAAUA,MACpDkH,EAAMZ,KAAOA,EACbY,EAAM0B,UAAO3J,EACbiI,EAAM2B,UAAO5J,EACbiI,EAAM4B,YAAc5B,EAAM6B,UAAY,EACtC7B,EAAM8B,UAAY,CAAC,EAAG,GACtB9B,EAAMvH,SAAW,CAAC,EAAG,GACrBuH,EAAM+B,SAAW,CAAC,EAAG,GACrB/B,EAAMgC,eAAiB,EAAC,GAAO,GAC/BhC,EAAMiC,SAAW,CAAC,EAAG,GACrBjC,EAAMkC,SAAW,CAAC,EAAG,GACrBlC,EAAMmC,MAAQ,CAAC,EAAG,GAClBnC,EAAMoC,UAAY,CACpB,CACAtG,MAAM8B,GACJ,MAAMoC,EAAQN,KAAKM,MACbU,EAAShB,KAAKgB,OACfV,EAAMe,UACTrB,KAAKU,QACLV,KAAKQ,iBACLF,EAAMe,SAAU,EAChBf,EAAMvB,OAASb,EAAMa,OACrBuB,EAAMtB,cAAgBd,EAAMc,cAC5BsB,EAAMqC,WAAa3B,EAAOrC,KAAOvE,EAAK4G,EAAOrC,KAAM2B,GAASA,EAAMsC,OAClEtC,EAAMsC,OAAStC,EAAMqC,WACrBrC,EAAMuC,UAAYvC,EAAMoC,UAAYxE,EAAMwE,UAE9C,CACAnC,cAAcuC,GACZ,MAAMxC,EAAQN,KAAKM,MACnBA,EAAMyC,QAAUD,EAChBxC,EAAMwC,OAAS9C,KAAKgB,OAAOgC,UAAUF,EACvC,CACAtC,iBACE,MAAMF,EAAQN,KAAKM,MACnBA,EAAM2C,SAAW3C,EAAMyC,QACvBzC,EAAM4C,QAAU5C,EAAMwC,MACxB,CACAK,QAAQjF,GACN,MAAM,MACJoC,EAAK,OACLU,EAAM,OACNL,GACEX,KACJM,EAAMZ,KAAOM,KAAKN,KAClB,IAAI0D,EAAK,EAaT,GAZIlF,IACFoC,EAAMpC,MAAQA,EACV8C,EAAOqC,gBAAkBnF,EAAMoF,YAAYhD,EAAMpC,MAAMmF,iBAC3D/C,EAAMhC,KAAOJ,EAAMI,KACnBqC,EAAO/B,QAAUoB,KAAKK,KAAKkD,WAAWC,MAAQxD,KAAKK,KAAK3B,SAAS8E,KACjE7C,EAAO8C,SAAWC,SAASC,mBAC3B/I,OAAOsF,OAAOS,EAnJpB,SAAyBzC,GACvB,MAAM0F,EAAU,CAAC,EAEjB,GADI,YAAa1F,IAAO0F,EAAQC,QAAU3F,EAAM2F,SAC5C,aAAc3F,EAAO,CACvB,MAAM,SACJ4F,EAAQ,OACRC,EAAM,QACNC,EAAO,QACPC,GACE/F,EACJtD,OAAOsF,OAAO0D,EAAS,CACrBE,WACAC,SACAC,UACAC,WAEJ,CACA,OAAOL,CACT,CAiI4BM,CAAgBhG,IACtCyC,EAAOwD,KAAOxD,EAAOyD,QAAUzD,EAAOkD,QAAU,GAAM,GAAKlD,EAAO/B,QAAU,EAC5EwE,EAAKlF,EAAMwE,UAAYpC,EAAMoC,UAC7BpC,EAAMoC,UAAYxE,EAAMwE,UACxBpC,EAAM4B,YAAc5B,EAAMoC,UAAYpC,EAAMuC,WAE1CvC,EAAMe,QAAS,CACjB,MAAMgD,EAAiB/D,EAAMwB,OAAO3C,IAAIjG,KAAKC,KAC7ClB,EAAEW,MAAM0H,EAAMsB,UAAWyC,EAC3B,CACIrE,KAAKsE,YAAYtE,KAAKsE,WAAWpG,GACrC,MAAOqG,EAAKC,GAAOlE,EAAMqB,WAClB8C,EAAIC,GAAM1D,EAAO2D,WAClB,MACJlD,EAAK,OACLqB,GACExC,EASJ,GARIU,EAAO4D,qBACQ,IAAbnD,EAAM,KAAcA,EAAM,GAAKvI,KAAKC,IAAIoL,IAAQE,GAAM3B,EAAO,KAChD,IAAbrB,EAAM,KAAcA,EAAM,GAAKvI,KAAKC,IAAIqL,IAAQE,GAAM5B,EAAO,OAEhD,IAAbrB,EAAM,KAAcA,EAAM,GAAKvI,KAAKC,IAAIoL,IAAQE,GAAMvL,KAAK2L,KAAKN,GAAOE,IAC1D,IAAbhD,EAAM,KAAcA,EAAM,GAAKvI,KAAKC,IAAIqL,IAAQE,GAAMxL,KAAK2L,KAAKL,GAAOE,IAE7EpE,EAAMoB,aAA2B,IAAbD,EAAM,KAA6B,IAAbA,EAAM,IAC3CnB,EAAMoB,YAAa,OACxB,MAAMc,EAAW,CAAC,EAAG,GACrB,GAAIxB,EAAO4D,mBAAoB,CAC7B,MAAOE,EAAIrM,GAAMqK,EACjBN,EAAS,IAAkB,IAAbf,EAAM,GAAeqD,EAAKrD,EAAM,GAAK,EACnDe,EAAS,IAAkB,IAAbf,EAAM,GAAehJ,EAAKgJ,EAAM,GAAK,CACrD,MACEe,EAAS,IAAkB,IAAbf,EAAM,GAAe8C,EAAM9C,EAAM,GAAK,EACpDe,EAAS,IAAkB,IAAbf,EAAM,GAAe+C,EAAM/C,EAAM,GAAK,EAElDzB,KAAK+E,iBAAmBzE,EAAMiB,UAAUvB,KAAK+E,eAAevC,GAChE,MAAMwC,EAAiB1E,EAAMsC,OACvBqC,EAAkB3E,EAAMe,UAAYf,EAAMiB,UAAYjB,EAAMgB,OAC9D2D,IACF3E,EAAM4E,MAAQ5E,EAAMe,UAAYf,EAAMgB,OACtChB,EAAM6E,MAAQ7E,EAAMe,SAAWf,EAAMgB,OACrChB,EAAMgB,OAASX,EAAOX,KAAKoB,QAAUd,EAAMe,QACvCnD,IACEoC,EAAM4E,QACJ,WAAYlE,IAAQV,EAAMyB,QAAU3H,EAAK4G,EAAOoE,OAAQ9E,IACxDN,KAAKqF,OAAOrF,KAAKqF,SAEvB/E,EAAMkC,SAAWA,EACjBxC,KAAKsF,kBAGT,MAAOC,EAAIC,GAAMlF,EAAMsC,SACf6C,EAAIC,IAAMC,EAAIC,IAAOtF,EAAMyB,QACnCzB,EAAM+B,SAAW,CAACkD,EAAKE,GAAM,EAAIF,EAAKG,EAAK,EAAI,EAAGF,EAAKG,GAAM,EAAIH,EAAKI,EAAK,EAAI,GAC/EtF,EAAMgC,eAAe,KAAKhC,EAAM+B,SAAS,MAAiC,IAA5B/B,EAAMgC,eAAe,GAAehC,EAAMqB,UAAU,GAAKrB,EAAMgC,eAAe,IAC5HhC,EAAMgC,eAAe,KAAKhC,EAAM+B,SAAS,MAAiC,IAA5B/B,EAAMgC,eAAe,GAAehC,EAAMqB,UAAU,GAAKrB,EAAMgC,eAAe,IAC5H,MAAMxJ,EAAawH,EAAMe,SAAUL,EAAOlI,YAAuB,CAAC,EAAG,GAIrE,GAHAwH,EAAMsC,ODvWV,SAA2BwC,GAASS,EAAIC,IAAMC,EAAIC,IAChD,OAAQC,EAAIC,IAAMC,EAAIC,IAAOhB,EAC7B,MAAO,CAAC9L,EAAwBuM,EAAII,EAAIC,EAAIH,GAAKzM,EAAwBwM,EAAIK,EAAIC,EAAIJ,GACvF,CCoWmBK,CAAkB/F,EAAMyB,QAASzB,EAAMsC,OAAQ9J,GAC9DwH,EAAMmC,MAAQxK,EAAEU,IAAI2H,EAAMsC,OAAQoC,GAClChF,KAAKsG,kBACDrB,KAAqB3E,EAAM6E,MAAQ/B,EApKN,IAoK0C,CACzE9C,EAAMmC,MAAQxK,EAAEU,IAAI2H,EAAMsC,OAAQoC,GAClC,MAAMuB,EAAgBjG,EAAMmC,MAAMtD,IAAIjG,KAAKC,KAC3ClB,EAAEW,MAAM0H,EAAMvH,SAAUwN,GACxBjG,EAAM8B,UAAY9B,EAAMmC,MAAMtD,IAAIjG,KAAK2L,MACvCvE,EAAMuB,WAAavB,EAAMwB,OAAO3C,IAAIjG,KAAK2L,OACpCvE,EAAM4E,OAAS9B,EAAK,IACvB9C,EAAMiC,SAAW,CAACgE,EAAc,GAAKnD,EAAImD,EAAc,GAAKnD,GAC5D9C,EAAM6B,UAAYiB,EAEtB,CACF,CACAoD,OACE,MAAMlG,EAAQN,KAAKM,MACbK,EAASX,KAAKW,OACdK,EAAShB,KAAKgB,OAEpB,GADKV,EAAMe,SAASrB,KAAKyG,SACpBnG,EAAMiB,WAAajB,EAAMoB,eAAiBpB,EAAMkB,SAAWR,EAAO0F,iBAAkB,OACzF,MAAMzE,EAAOjC,KAAKkB,QAAQtF,EAAeA,EAAeA,EAAe,CAAC,EAAG+E,GAASL,GAAQ,CAAC,EAAG,CAC9F,CAACN,KAAK2G,UAAWrG,EAAMwC,eAEZzK,IAAT4J,IAAoB3B,EAAM2B,KAAOA,EACvC,CACAwE,QACEzG,KAAKY,WAAW6F,QAChBzG,KAAKc,aAAa2F,OACpB,EAcF,MAAMG,UAA0BzG,EAC9BC,eAAeV,GACbmH,SAASnH,GACTjF,EAAgBuF,KAAM,WAAY,KACpC,CACAU,QACEmG,MAAMnG,QACNV,KAAKM,MAAM0B,UAAO3J,CACpB,CACAoI,OACET,KAAKM,MAAMsC,OAAS,CAAC,EAAG,GACxB5C,KAAKM,MAAMqC,WAAa,CAAC,EAAG,EAC9B,CACA2C,gBACEtF,KAAKM,MAAMsC,OAAS3K,EAAEO,IAAIwH,KAAKM,MAAMqC,WAAY3C,KAAKM,MAAMkC,SAC9D,CACA8D,kBACEtG,KAAKM,MAAMkC,SAAWvK,EAAEU,IAAIqH,KAAKM,MAAMsC,OAAQ5C,KAAKM,MAAMqC,WAC5D,CACA2B,WAAWpG,GACT,MAAMoC,EAAQN,KAAKM,MACbU,EAAShB,KAAKgB,OACpB,IAAKV,EAAM0B,MAAQ9D,EAAO,CACxB,MAAMyG,EAA4C,iBAAzB3D,EAAO8F,cAA6B9F,EAAO8F,cAAc3I,EAAeD,IAAU8C,EAAO8F,cAClHxG,EAAM0B,KAnCZ,UAAqB+E,EAAIC,GAAKrC,GAC5B,MAAMsC,EAAQ/N,KAAKC,IAAI4N,GACjBG,EAAQhO,KAAKC,IAAI6N,GACvB,OAAIC,EAAQC,GAASD,EAAQtC,EACpB,IAELuC,EAAQD,GAASC,EAAQvC,EACpB,SADT,CAIF,CAyBmBwC,CAAW7G,EAAMqB,UAAWgD,EAC3C,CACArE,EAAMiB,UAAYP,EAAOoG,iBAAmBpG,EAAOgB,QAAU1B,EAAM0B,QAAUhB,EAAOgB,MAAQhB,EAAOgB,OAAS1B,EAAM0B,IACpH,CACA+C,eAAe5M,GACb,GAAI6H,KAAKgB,OAAOgB,MAAQhC,KAAKgB,OAAOoG,cAClC,OAAQpH,KAAKM,MAAM0B,MACjB,IAAK,IACH7J,EAAE,GAAK,EACP,MACF,IAAK,IACHA,EAAE,GAAK,EAIf,EAGF,MAAMkP,EAAWlP,GAAKA,EAEhBmP,EAAuB,CAC3BC,QAAQ5M,GAAQ,GACd,OAAOA,CACT,EACA6M,aAAa7M,EAAO8M,EAAIzG,GACtB,OAAOpF,EAAeA,EAAe,CAAC,EAAGoF,EAAOL,OAAO6G,cAAe7M,EACxE,EACA0I,eAAe1I,GAAQ,GACrB,OAAOA,CACT,EACA+L,iBAAiB/L,GAAQ,GACvB,OAAOA,CACT,EACA7B,WAAW6B,EAAQ,GACjB,OAAQA,GACN,KAAK,EACH,MAAO,CAjBY,SAkBrB,KAAK,EACH,MAAO,CAAC,EAAG,GACb,QACE,OAAO1C,EAAEC,SAASyC,GAExB,EACAgE,KAAKhE,GACH,MAAqB,mBAAVA,EAA6BA,EAC3B,MAATA,EAAsB1C,EAAEC,SAASyC,QAArC,CACF,EACAqI,UAAUrI,EAAO8M,EAAIzG,GACnB,MAAMgC,EAAYrI,GAASqG,EAAOL,OAAOqC,UAYzC,OAXAhD,KAAK4E,qBAAuB5B,EAWrBA,GAAaqE,CACtB,EACA1C,UAAUhK,GACR,OAAO1C,EAAEC,SAASyC,EAAO,EAC3B,GAyBF,MACM+M,EAA4B9L,EAAeA,EAAe,CAAC,EAAG0L,GAAuB,CAAC,EAAG,CAC7FtF,KAAK2F,EAAIF,GAAI,KACXzF,IAGA,GADAhC,KAAKoH,cAAyB,SAATpF,GAChBhC,KAAKoH,cAAe,OAAOpF,CAClC,EACA8E,cAAcnM,EARe,GAS3B,OAAOA,CACT,EACAyK,OAAOzK,EAAQ,CAAC,GACd,GAAqB,mBAAVA,EACT,OAAO2F,GAASoH,EAA0BtC,OAAOzK,EAAM2F,IAEzD,GAAI,YAAa3F,EACf,MAAO,IAAMA,EAAMiN,QAErB,GAA2B,mBAAhBC,aAA8BlN,aAAiBkN,YACxD,OAAOlN,EAET,MAAM,KACJmN,GAAQ1O,IAAQ,MAChB2O,EAAQ3O,IAAQ,IAChB4O,GAAO5O,IAAQ,OACf6O,EAAS7O,KACPuB,EACJ,MAAO,CAAC,CAACmN,EAAMC,GAAQ,CAACC,EAAKC,GAC/B,IAGIC,EAAiB,CACrBC,WAAY,CAACC,EAAcC,EAAS,IAAM,CAACD,EAAeC,EAAQ,GAClEC,UAAW,CAACF,EAAcC,EAAS,IAAM,EAAE,EAAID,EAAeC,EAAQ,GACtEE,QAAS,CAACH,EAAcC,EAAS,IAAM,CAAC,GAAI,EAAID,EAAeC,GAC/DG,UAAW,CAACJ,EAAcC,EAAS,IAAM,CAAC,EAAGD,EAAeC,IA2Q9D,MAAMI,EAA8B,oBAAXC,QAA0BA,OAAOhF,UAAYgF,OAAOhF,SAASiF,cACtF,SAASC,IACP,OAAOH,GAAa,iBAAkBC,MACxC,CAiBA,MAAMG,EAAU,CACdJ,YACAhM,QATF,WACE,IACE,MAAO,gBAAiBqM,YAG1B,CAFE,MAAO5N,GACP,OAAO,CACT,CACF,CAGW6N,GACTvM,MAAOoM,IACPI,YAnBOJ,KAAyBH,GAAaC,OAAOO,UAAUC,eAAiB,EAoB/E/M,QAjBOsM,GAAa,kBAAmBC,OAkBvCS,YAfOV,GAAa,oBAAqBC,OAAOhF,UAwB5C0F,EAA8B,CAClC7M,MAAO,EACPC,MAAO,EACP6M,IAAK,GAEDC,EAAqB1N,EAAeA,EAAe,CAAC,EAAG8L,GAA4B,CAAC,EAAG,CAC3F1K,OAAO2K,EAAIF,GACTtL,SAAS,MACPK,GAAQ,EAAK,KACb+M,GAAO,EAAK,MACZhN,GAAQ,GACN,CAAC,IAGL,OADAyD,KAAKmJ,YAAcI,GAAQV,EAAQM,YAC/BN,EAAQrM,OAASA,EAAc,QAC/BwD,KAAKmJ,YAAoB,QACzBN,EAAQ1M,UAAYI,EAAc,UAClCsM,EAAQrM,MAAc,QACnB,OACT,EACAgN,kBAAkB7O,EAAO8M,GAAI,cAC3BgC,IAGA,GADAzJ,KAAK0J,mBAA8C,iBAAlBD,EAA6BA,EAAgBA,QAAmCpR,IAAlBoR,GAA+B9O,EA7B7F,SA6BoItC,EAChKwQ,EAAQG,cAAiC,IAAlBS,EAC5B,OAAO9O,SAAkCtC,IAAlBoR,EAA8B,SAAMpR,EAC7D,EACAsR,eAAehC,EAAIF,GACjBtL,SAAS,QACPe,GAAU,EAAI,QACd2G,EAAU,EAAC,KACXxI,GAAO,GACL,CAAC,IAIL,OAFA2E,KAAK4J,eAAiB/F,EACtB7D,KAAK3E,KAAOA,GACJ2E,KAAKmJ,aAA+B,YAAhBnJ,KAAKhD,QAAwBE,CAC3D,EACAyH,UAAUhK,EAAO8M,GAAI,WACnBoC,GAAa,EAAK,cAClBC,EAAgB,EAAC,KACjB9H,IAEA,MAAM2C,EAAY1M,EAAEC,SAASyC,EAAOkP,EAAaC,EAAgB9H,EAAO,EAAI,GAG5E,OAFAhC,KAAK6J,WAAaA,EAClB7J,KAAK8J,cAAgBA,EACdnF,CACT,EACAoF,OAAM,SACJxH,EArD2B,GAqDM,SACjCxJ,EArD2B,GAqDM,SACjCiR,EArD2B,KAsDzB,CAAC,GACH,MAAO,CACLzH,SAAUvC,KAAKgD,UAAU/K,EAAEC,SAASqK,IACpCxJ,SAAUiH,KAAKgD,UAAU/K,EAAEC,SAASa,IACpCiR,WAEJ,EACAC,MAAMtP,EAAQ,GACZ,OAAQA,GACN,KAAK,EACH,OAnEmB,IAoErB,KAAK,EACH,OAAO,EACT,QACE,OAAOA,EAEb,EACAmM,cAAcnM,GACZ,OAAKA,EACEiB,EAAeA,EAAe,CAAC,EAAGwN,GAA8BzO,GADpDyO,CAErB,EACAc,qBAAqBvP,EA1Ee,IA2ElC,OAAOA,CACT,IA8R0BiB,EAAeA,EAAe,CAAC,EAAG0L,GAAuB,CAAC,EAAG,CACvFtK,OAAO2K,EAAIF,GAAI,OACb9G,EACAxE,SAAS,MACPK,GAAQ,GACN,CAAC,IAGL,GADqBmE,EACJ5B,SAAW8J,EAAQrM,OAASqM,EAAQpM,QAAS,MAAO,UACrE,GAAIoM,EAAQrM,OAASA,EAAO,MAAO,QACnC,GAAIqM,EAAQG,YAAa,CACvB,GAAIH,EAAQ1M,QAAS,MAAO,UAC5B,GAAI0M,EAAQrM,MAAO,MAAO,OAC5B,CACF,EACA4I,OAAOuC,EAAIF,GAAI,YACb0C,EAAc,CAAC,EAAC,YAChBC,EAAc,CAAC,IAEf,MAAMC,EAAe/J,IACnB,MAAMgK,EAAIrK,EAAc7F,EAAK+P,EAAa7J,GAAQ,CAChD9G,KAAMJ,IACNK,IAAKL,MAEP,MAAO,CAACkR,EAAE9Q,IAAK8Q,EAAE7Q,IAAI,EAEjB8Q,EAAejK,IACnB,MAAMkK,EAAIvK,EAAc7F,EAAKgQ,EAAa9J,GAAQ,CAChD9G,KAAMJ,IACNK,IAAKL,MAEP,MAAO,CAACoR,EAAEhR,IAAKgR,EAAE/Q,IAAI,EAEvB,MAA2B,mBAAhB0Q,GAAqD,mBAAhBC,EAAmC,CAACC,IAAgBE,KAC7FjK,GAAS,CAAC+J,EAAa/J,GAAQiK,EAAajK,GACrD,EACAqE,UAAUhK,EAAO8M,EAAIzG,GACnBhB,KAAKoH,cAAgC,SAAhBpG,EAAOgB,KAE5B,OADkB/J,EAAEC,SAASyC,EAAOqF,KAAKoH,cAAgB,CAAC,GAAK,GAAK,EAEtE,EACAqD,YAAY9P,GACV,YAActC,IAAVsC,EAA4B,UACzBA,CACT,EACA+P,aAAa/P,GAAQ,GACnB,OAAOA,CACT,IA0CyBiB,EAAeA,EAAe,CAAC,EAAG8L,GAA4B,CAAC,EAAG,CAC3FiD,UAAW,CAAChQ,GAAQ,IAASA,IAiGHiB,EAAeA,EAAe,CAAC,EAAG8L,GAA4B,CAAC,EAAG,CAC5FiD,UAAW,CAAChQ,GAAQ,IAASA,IAD/B,MAIM,EAAY,IAAIiQ,IAChBC,EAAoB,IAAID,IAK9B,MAAM,EAAa,CACjB/Q,IAAK,OACLiR,OA51BF,cAAyBlE,EACvBxG,eAAeV,GACbmH,SAASnH,GACTjF,EAAgBuF,KAAM,SAAU,WAClC,CACAU,QACEmG,MAAMnG,QACN,MAAMJ,EAAQN,KAAKM,MACnBA,EAAMyK,gBAAa1S,EACnBiI,EAAM0K,gBAAiB,EACvB1K,EAAM2K,iBAAkB,EACxB3K,EAAM4K,gBAAiB,EACvB5K,EAAM6K,UAAW,EACjB7K,EAAMyJ,MAAQ,CAAC,EAAG,GAClBzJ,EAAM8K,KAAM,EACZ9K,EAAM+K,UAAW,EACjB/K,EAAMgL,OAAStL,KAAKsL,OAAOC,KAAKvL,KAClC,CACAqF,QACE,MAAM/E,EAAQN,KAAKM,MACnB,GAAIA,EAAMyB,mBAAmB8F,YAAa,CACxC,MAAM2D,EAAYlL,EAAMyB,QAAQ0J,wBAC1BC,EAAapL,EAAMtB,cAAcyM,wBACjC1J,EAAU,CACd+F,KAAM0D,EAAU1D,KAAO4D,EAAW5D,KAAOxH,EAAMsC,OAAO,GACtDmF,MAAOyD,EAAUzD,MAAQ2D,EAAW3D,MAAQzH,EAAMsC,OAAO,GACzDoF,IAAKwD,EAAUxD,IAAM0D,EAAW1D,IAAM1H,EAAMsC,OAAO,GACnDqF,OAAQuD,EAAUvD,OAASyD,EAAWzD,OAAS3H,EAAMsC,OAAO,IAE9DtC,EAAMyB,QAAU2F,EAA0BtC,OAAOrD,EACnD,CACF,CACAuJ,SACE,MAAMhL,EAAQN,KAAKM,MACfA,EAAM+K,WACV/K,EAAM+K,UAAW,EACjB/K,EAAMe,SAAU,EAChBsK,YAAW,KACT3L,KAAKmD,UACLnD,KAAKwG,MAAM,GACV,GACL,CACAoF,YACE5L,KAAKM,MAAMe,QAAUrB,KAAKM,MAAM0K,gBAAkBhL,KAAKM,MAAM2K,eAC/D,CACAxE,QACEzG,KAAK6L,eACL7L,KAAKM,MAAM0K,gBAAiB,EAC5BhL,KAAKM,MAAM2K,iBAAkB,EAC7BpE,MAAMJ,OACR,CACAqF,YAAY5N,GACV,MAAM8C,EAAShB,KAAKgB,OACdV,EAAQN,KAAKM,MACnB,GAAqB,MAAjBpC,EAAM2F,UAAoBvL,MAAMC,QAAQyI,EAAO4I,iBAAmB5I,EAAO4I,eAAevM,SAASa,EAAM2F,UAAsC,IAA3B7C,EAAO4I,gBAAyB5I,EAAO4I,iBAAmB1L,EAAM2F,SAAU,OAChM,MAAMkI,EAAU/L,KAAKK,KAAK2L,YAAY9N,GAClC8C,EAAO2I,gBACTzL,EAAMa,OAAOkN,kBAAkB/N,EAAMmB,WAEnC0M,GAAWA,EAAQvI,KAAO,GAAKlD,EAAM0K,iBACzChL,KAAK5D,MAAM8B,GACX8B,KAAKkM,aAAahO,GAClBoC,EAAMyK,WAAa1L,EAAUnB,GAC7BoC,EAAM0K,gBAAiB,EACvBhL,KAAKO,cAAchB,EAAcrB,IACjC8B,KAAKQ,iBACDQ,EAAOwI,mBAA+C,UAA1BrL,EAAeD,IAC7CoC,EAAMe,SAAU,EAChBrB,KAAKmM,sBAAsBjO,IAClB8C,EAAOiJ,MAAQ,GACxBjK,KAAKoM,kBAAkBlO,GACnB8C,EAAO0F,mBACT1G,KAAKmD,QAAQjF,GACb8B,KAAKwG,SAGPxG,KAAKqM,iBAAiBnO,GAE1B,CACAmO,iBAAiBnO,GACf,MAAMoC,EAAQN,KAAKM,MACnBA,EAAMe,SAAU,EAChBf,EAAM4K,gBAAiB,EACvB5K,EAAM6K,UAAW,EACjBnL,KAAKmD,QAAQjF,GACb8B,KAAKwG,MACP,CACA8F,YAAYpO,GACV,MAAMoC,EAAQN,KAAKM,MACbU,EAAShB,KAAKgB,OACpB,IAAKV,EAAM0K,eAAgB,OAC3B,MAAMuB,EAAKlN,EAAUnB,GACrB,QAAyB7F,IAArBiI,EAAMyK,YAA4BwB,IAAOjM,EAAMyK,WAAY,OAC/D,MAAMhI,EAAUxD,EAAcrB,GAS9B,OARIwF,SAASC,qBAAuBzF,EAAMa,OACxCuB,EAAMwB,OAAS,CAAC5D,EAAMsO,UAAWtO,EAAMuO,YAEvCnM,EAAMwB,OAAS7J,EAAEU,IAAIoK,EAASzC,EAAMyC,SACpC/C,KAAKO,cAAcwC,IAErB9K,EAAEW,MAAM0H,EAAMqB,UAAWrB,EAAMwB,QAC/B9B,KAAKmD,QAAQjF,GACToC,EAAM6K,UAAY7K,EAAMoB,aAC1B1B,KAAKc,aAAa4L,OAAO,aACzBpM,EAAMgB,QAAS,OACftB,KAAKqM,iBAAiBnO,IAGpB8C,EAAOwI,oBAAsBlJ,EAAM4K,eACjC5K,EAAM0B,KACJ1B,EAAM0B,OAAShB,EAAOwI,mBAAkD,OAA7BxI,EAAOwI,mBACpDlJ,EAAMe,SAAU,OAChBrB,KAAKyG,UAGLzG,KAAKc,aAAa4L,OAAO,yBACzB1M,KAAKqM,iBAAiBnO,SAIxB,OAGJ8B,KAAKwG,MACP,CACAmG,UAAUzO,GACR8B,KAAKK,KAAK2L,YAAY9N,GACtB,IACM8B,KAAKgB,OAAO2I,gBAAkBzL,EAAMa,OAAO6N,kBAAkB1O,EAAMmB,YAErEnB,EAAMa,OAAO8N,sBAAsB3O,EAAMmB,UAM7C,CAJE,MAAOyN,GACH,CAGN,CACA,MAAMxM,EAAQN,KAAKM,MACbU,EAAShB,KAAKgB,OACpB,IAAKV,EAAMe,UAAYf,EAAM0K,eAAgB,OAC7C,MAAMuB,EAAKlN,EAAUnB,GACrB,QAAyB7F,IAArBiI,EAAMyK,YAA4BwB,IAAOjM,EAAMyK,WAAY,OAC/D/K,KAAKM,MAAM0K,gBAAiB,EAC5BhL,KAAK4L,YACL5L,KAAKmD,QAAQjF,GACb,MAAO6I,EAAIC,GAAM1G,EAAMsB,UAEvB,GADAtB,EAAM8K,IAAMrE,GAAM/F,EAAO8I,eAAiB9C,GAAMhG,EAAO8I,cACnDxJ,EAAM8K,KAAOpK,EAAO6I,WACtBvJ,EAAMkB,QAAS,MACV,CACL,MAAOuL,EAAKC,GAAO1M,EAAMwB,QAClBmL,EAAKC,GAAO5M,EAAMqB,WAClBwL,EAAKC,GAAOpM,EAAO+I,MAAMxH,UACzB8K,EAAIC,GAAMtM,EAAO+I,MAAMhR,SACxBwU,EAAMvM,EAAO+I,MAAMC,SACzB,GAAI1J,EAAM4B,YAAcqL,EAAK,CAC3B,MAAMC,EAAMtU,KAAKC,IAAI4T,EAAMzM,EAAM6B,WAC3BsL,EAAMvU,KAAKC,IAAI6T,EAAM1M,EAAM6B,WAC7BqL,EAAML,GAAOjU,KAAKC,IAAI8T,GAAOI,IAAI/M,EAAMyJ,MAAM,GAAK7Q,KAAK2L,KAAKkI,IAC5DU,EAAML,GAAOlU,KAAKC,IAAI+T,GAAOI,IAAIhN,EAAMyJ,MAAM,GAAK7Q,KAAK2L,KAAKmI,GAClE,CACF,CACAhN,KAAKwG,MACP,CACAkH,aAAaxP,IACN8B,KAAKM,MAAM8K,KAAOlN,EAAMyP,OAAS,IACpCzP,EAAMmF,iBACNnF,EAAM0P,kBAEV,CACA1B,aAAahO,GACX,MAAM8C,EAAShB,KAAKgB,OACdhE,EAASgE,EAAOhE,OAYlBgE,EAAOmI,aACTjL,EAAMc,cAAc6O,qBAEjB7M,EAAO2I,iBACV3J,KAAKY,WAAWpI,IAAIwH,KAAKiB,aAAayH,OAAQ1L,EAAQ,SAAUgD,KAAKsM,YAAYf,KAAKvL,OACtFA,KAAKY,WAAWpI,IAAIwH,KAAKiB,aAAayH,OAAQ1L,EAAQ,MAAOgD,KAAK2M,UAAUpB,KAAKvL,OACjFA,KAAKY,WAAWpI,IAAIwH,KAAKiB,aAAayH,OAAQ1L,EAAQ,SAAUgD,KAAK2M,UAAUpB,KAAKvL,OAExF,CACA6L,eACM7L,KAAKgB,OAAOmI,aAAezF,SAASC,qBAAuB3D,KAAKM,MAAMtB,eACxE0E,SAASoK,iBAEb,CACArE,cAAcvL,GACR8B,KAAKM,MAAM4K,gBAAkBhN,EAAMoF,YACrCpF,EAAMmF,gBAEV,CACA8I,sBAAsBjO,GACpB8B,KAAKM,MAAM4K,gBAAiB,EAyDhC,SAAsBhN,GACpB,YAAaA,GAAkC,mBAAlBA,EAAM6P,SAA0B7P,EAAM6P,SACrE,CA1DIC,CAAa9P,GACb,MAAMwO,EAAS1M,KAAKY,WAAWpI,IAAIwH,KAAKiB,aAAayH,OAAQ,QAAS,SAAU1I,KAAKyJ,cAAc8B,KAAKvL,MAAO,CAC7GnC,SAAS,IAEXmC,KAAKY,WAAWpI,IAAIwH,KAAKiB,aAAayH,OAAQ,QAAS,MAAOgE,GAC9D1M,KAAKY,WAAWpI,IAAIwH,KAAKiB,aAAayH,OAAQ,QAAS,SAAUgE,GACjE1M,KAAKc,aAAatI,IAAI,mBAAoBwH,KAAKqM,iBAAiBd,KAAKvL,MAAOA,KAAKgB,OAAO0I,mBAAoBxL,EAC9G,CACAkO,kBAAkBlO,GAChB8B,KAAKM,MAAM6K,UAAW,EACtBnL,KAAKc,aAAatI,IAAI,aAAa,KACjCwH,KAAKM,MAAMmB,MAAQ,CAAC,EAAG,GACvBzB,KAAKqM,iBAAiBnO,EAAM,GAC3B8B,KAAKgB,OAAOiJ,MACjB,CACAgE,QAAQ/P,GACN,MAAMgQ,EAAUhG,EAAehK,EAAMrE,KACrC,GAAIqU,EAAS,CACX,MAAM5N,EAAQN,KAAKM,MACb+H,EAASnK,EAAM4F,SAAW,GAAK5F,EAAM6F,OAAS,GAAM,EAC1D/D,KAAK5D,MAAM8B,GACXoC,EAAMwB,OAASoM,EAAQlO,KAAKgB,OAAOkJ,qBAAsB7B,GACzD/H,EAAM2K,iBAAkB,EACxBhT,EAAEW,MAAM0H,EAAMqB,UAAWrB,EAAMwB,QAC/B9B,KAAKmD,QAAQjF,GACb8B,KAAKwG,MACP,CACF,CACA2H,MAAMjQ,GACEA,EAAMrE,OAAOqO,IACnBlI,KAAKM,MAAM2K,iBAAkB,EAC7BjL,KAAK4L,YACL5L,KAAKmD,QAAQjF,GACb8B,KAAKwG,OACP,CACA+E,KAAK6C,GACH,MAAMpR,EAASgD,KAAKgB,OAAOhE,OAC3BoR,EAAapR,EAAQ,QAASgD,KAAK8L,YAAYP,KAAKvL,OAChDA,KAAKgB,OAAO2I,iBACdyE,EAAapR,EAAQ,SAAUgD,KAAKsM,YAAYf,KAAKvL,OACrDoO,EAAapR,EAAQ,MAAOgD,KAAK2M,UAAUpB,KAAKvL,OAChDoO,EAAapR,EAAQ,SAAUgD,KAAK2M,UAAUpB,KAAKvL,OACnDoO,EAAa,qBAAsB,GAAIpO,KAAK2M,UAAUpB,KAAKvL,QAEzDA,KAAKgB,OAAO3F,OACd+S,EAAa,MAAO,OAAQpO,KAAKiO,QAAQ1C,KAAKvL,OAC9CoO,EAAa,MAAO,KAAMpO,KAAKmO,MAAM5C,KAAKvL,QAExCA,KAAKgB,OAAO6I,YACduE,EAAa,QAAS,GAAIpO,KAAK0N,aAAanC,KAAKvL,MAAO,CACtD9C,SAAS,EACTW,SAAS,GAGf,GA0lBAwQ,SAAU/E,G,cCt5CZ,SAASgF,EAAyBC,EAAQC,GACxC,GAAc,MAAVD,EAAgB,MAAO,CAAC,EAC5B,IACI1U,EAAK4U,EADL1P,EAfN,SAAuCwP,EAAQC,GAC7C,GAAc,MAAVD,EAAgB,MAAO,CAAC,EAC5B,IAEI1U,EAAK4U,EAFL1P,EAAS,CAAC,EACV2P,EAAa9T,OAAOS,KAAKkT,GAE7B,IAAKE,EAAI,EAAGA,EAAIC,EAAW5S,OAAQ2S,IACjC5U,EAAM6U,EAAWD,GACbD,EAAS1Q,QAAQjE,IAAQ,IAC7BkF,EAAOlF,GAAO0U,EAAO1U,IAEvB,OAAOkF,CACT,CAIe4P,CAA8BJ,EAAQC,GAEnD,GAAI5T,OAAOU,sBAAuB,CAChC,IAAIsT,EAAmBhU,OAAOU,sBAAsBiT,GACpD,IAAKE,EAAI,EAAGA,EAAIG,EAAiB9S,OAAQ2S,IACvC5U,EAAM+U,EAAiBH,GACnBD,EAAS1Q,QAAQjE,IAAQ,GACxBe,OAAOiU,UAAUC,qBAAqB1U,KAAKmU,EAAQ1U,KACxDkF,EAAOlF,GAAO0U,EAAO1U,GAEzB,CACA,OAAOkF,CACT,CAEA,MAAMgQ,EAAuB,CAC3BhQ,OAAOpE,GACL,GAAIA,EACF,MAAO,IAAM,YAAaA,EAAQA,EAAMiN,QAAUjN,CAGtD,EACA4M,QAAQ5M,GAAQ,GACd,OAAOA,CACT,EACA+N,OAAO/N,GAAQkO,EAAQJ,UAAYC,YAASrQ,IAC1C,OAAOsC,CACT,EACA6M,cAAa,QACX3J,GAAU,EAAI,QACdX,GAAU,GACR,CAAC,GACH,MAAO,CACLW,UACAX,UAEJ,EACA8F,UAAUrI,GACR,OAAOA,CACT,GAGIqU,EAAY,CAAC,SAAU,eAAgB,SAAU,UAAW,aAClE,SAASC,EAAYjO,EAAS,CAAC,EAAGkO,GAChC,MAAMpP,EAAS,CAAC,EAChB,IAAK,MAAOjG,EAAKwU,KAAazT,OAAOuU,QAAQD,GAC3C,cAAeb,GACb,IAAK,WAKDvO,EAAOjG,GAAOwU,EAASjU,KAAK0F,EAAQkB,EAAOnH,GAAMA,EAAKmH,GAExD,MACF,IAAK,SACHlB,EAAOjG,GAAOoV,EAAYjO,EAAOnH,GAAMwU,GACvC,MACF,IAAK,UACCA,IAAUvO,EAAOjG,GAAOmH,EAAOnH,IAIzC,OAAOiG,CACT,CA2CA,MAAMsP,EACJhP,YAAYC,EAAMgP,GAChB5U,EAAgBuF,KAAM,aAAc,IAAIsP,KACxCtP,KAAKuP,MAAQlP,EACbL,KAAKwP,YAAcH,CACrB,CACA7W,IAAIiX,EAASzS,EAAQC,EAAQiE,EAASwO,GACpC,MAAMC,EAAY3P,KAAK4P,WACjBtR,ED5BV,SAAwBtB,EAAQC,EAAS,IACvC,MAAME,EAAcjB,EAAec,GAEnC,OAAOA,GADWG,GAAcA,EAAYF,IAAoBA,EAElE,CCwBiB4S,CAAe7S,EAAQC,GAE9BuK,EAAe5L,EAAeA,EAAe,CAAC,EADnCoE,KAAKwP,YAAcxP,KAAKuP,MAAMvO,OAAOhB,KAAKwP,aAAahI,aAAe,CAAC,GACtBkI,GAClED,EAAQK,iBAAiBxR,EAAM4C,EAASsG,GACxC,MAAMkF,EAAS,KACb+C,EAAQM,oBAAoBzR,EAAM4C,EAASsG,GAC3CmI,EAAUK,OAAOtD,EAAO,EAG1B,OADAiD,EAAUnX,IAAIkU,GACPA,CACT,CACAjG,QACEzG,KAAK4P,WAAW7T,SAAQ2Q,GAAUA,MAClC1M,KAAK4P,WAAWK,OAClB,EAGF,MAAMC,EACJ9P,cACE3F,EAAgBuF,KAAM,YAAa,IAAI4K,IACzC,CACApS,IAAIqB,EAAKsW,EAAUC,EAAK,OAAQ1Q,GAC9BM,KAAK0M,OAAO7S,GACZmG,KAAKqQ,UAAUC,IAAIzW,EAAK6O,OAAOiD,WAAWwE,EAAUC,KAAO1Q,GAC7D,CACAgN,OAAO7S,GACL,MAAM0W,EAAUvQ,KAAKqQ,UAAUG,IAAI3W,GAC/B0W,GAAS7H,OAAO+H,aAAaF,EACnC,CACA9J,QACEzG,KAAKqQ,UAAUtU,SAAQwU,IAAgB7H,OAAO+H,aAAaF,EAAQ,IACnEvQ,KAAKqQ,UAAUJ,OACjB,EAGF,MAAMS,EACJtQ,YAAYe,GACV1G,EAAgBuF,KAAM,WAAY,IAAIsP,KACtC7U,EAAgBuF,KAAM,oBAAqB,IAAIoP,EAAWpP,OAC1DvF,EAAgBuF,KAAM,qBAAsB,CAAC,GAC7CvF,EAAgBuF,KAAM,uBAAwB,CAAC,GAC/CvF,EAAgBuF,KAAM,WAAY,CAAC,GACnCvF,EAAgBuF,KAAM,SAAU,CAAC,GACjCvF,EAAgBuF,KAAM,aAAc,IAAIsP,KACxC7U,EAAgBuF,KAAM,WAAY,IAAIsP,KACtC7U,EAAgBuF,KAAM,QAAS,CAC7BW,OAAQ,CACNmD,UAAU,EACVE,SAAS,EACTC,SAAS,EACTF,QAAQ,KA+EhB,SAAyB1D,EAAMsQ,GACzBA,EAAiBC,MAAMC,EAAaxQ,EAAM,QAC1CsQ,EAAiBG,OAAOD,EAAaxQ,EAAM,SAC3CsQ,EAAiBI,QAAQF,EAAaxQ,EAAM,UAC5CsQ,EAAiBK,MAAMH,EAAaxQ,EAAM,QAC1CsQ,EAAiBM,OAAOJ,EAAaxQ,EAAM,SAC3CsQ,EAAiBO,OAAOL,EAAaxQ,EAAM,QACjD,CAnFI8Q,CAAgBnR,KAAMmB,EACxB,CACA6K,YAAY9N,GACV,OAAID,EAAQC,IACV8B,KAAKtB,SAAW,IAAI4Q,IAAI5Q,EAASR,IAC1B8B,KAAKtB,UACH,cAAeR,GACL,cAAfA,EAAMI,MAAuC,kBAAfJ,EAAMI,KAA0B0B,KAAKuD,WAAWyM,OAAO9R,EAAMmB,WAAmC,gBAAfnB,EAAMI,MAAwB0B,KAAKuD,WAAW/K,IAAI0F,EAAMmB,WACpKW,KAAKuD,iBAFP,CAIT,CACA6N,cAAcjQ,EAAUkQ,GACtBrR,KAAKmB,SAAWA,EAChBnB,KAAKqR,eAAiBA,CACxB,CACAC,YAAYtQ,EAAQqO,GAClBrP,KAAKgB,OAvHT,SAAeuQ,EAAWlC,EAAYmC,EAAU,CAAC,GAC/C,MAAMC,EAAOF,GACX,OACExS,EAAM,aACNyI,EAAY,OACZkB,EAAM,QACNnB,EAAO,UACPvE,GACEyO,EACJC,EAAOpD,EAAyBmD,EAAMzC,GAQxC,GAPAwC,EAAQ7Q,OAASsO,EAAY,CAC3BlQ,SACAyI,eACAkB,SACAnB,UACAvE,aACC+L,GACCM,EAAY,CACd,MAAMhB,EAAWxD,EAAkB2F,IAAInB,GACvCmC,EAAQnC,GAAcJ,EAAYrT,EAAe,CAC/C+E,OAAQ6Q,EAAQ7Q,QACf+Q,GAAOrD,EACZ,MACE,IAAK,MAAMxU,KAAO6X,EAAM,CACtB,MAAMrD,EAAWxD,EAAkB2F,IAAI3W,GACnCwU,IACFmD,EAAQ3X,GAAOoV,EAAYrT,EAAe,CACxC+E,OAAQ6Q,EAAQ7Q,QACf+Q,EAAK7X,IAAOwU,GASnB,CAEF,OAAOmD,CACT,CA+EkBG,CAAM3Q,EAAQqO,EAAYrP,KAAKgB,OAC/C,CACAyF,QACEzG,KAAK4R,kBAAkBnL,QACvB,IAAK,MAAM5M,KAAOmG,KAAK6R,SACrB7R,KAAKa,mBAAmBhH,GAAK4M,QAC7BzG,KAAKe,qBAAqBlH,GAAK4M,OAEnC,CACAqL,SAEE,OADI9R,KAAKgB,OAAOL,OAAO5B,QAAQiB,KAAKuL,OAC7B,IAAMvL,KAAK4R,kBAAkBnL,OACtC,CACA8E,QAAQ7L,GACN,MAAMuB,EAAejB,KAAKgB,OAAOL,OAC3BoR,EAAQ,CAAC,EACf,IAAIhT,EACJ,IAAIkC,EAAalC,SACfA,EAASkC,EAAalC,SACjBA,GAFP,CAIA,GAAIkC,EAAasG,QAAS,CACxB,IAAK,MAAM8H,KAAcrP,KAAK6R,SAAU,CACtC,MAAMG,EAAgBhS,KAAKgB,OAAOqO,GAC5BjB,EAAe6D,EAAYF,EAAOC,EAAcxK,eAAgBzI,GACtE,GAAIiT,EAAczK,QAAS,CAEzB,IADe,MAAc8H,GAC7B,CAAWrP,KAAMN,EAAM2P,GAAY9D,KAAK6C,EAC1C,CACF,CACA,MAAM8D,EAAqBD,EAAYF,EAAO9Q,EAAauG,eAAgBzI,GAC3E,IAAK,MAAMrB,KAAYsC,KAAKqR,eAC1Ba,EAAmBxU,EAAU,IAAIQ,GAAS8B,KAAKqR,eAAe3T,GAAU9B,EAAeA,EAAe,CAAC,EAAGoE,KAAKM,MAAMK,QAAS,CAAC,EAAG,CAChIzC,QACAwB,gBACGrH,GAAW,EAEpB,CACA,IAAK,MAAM8Z,KAAeJ,EACxBA,EAAMI,GAAevS,KAASmS,EAAMI,IAEtC,IAAKpT,EAAQ,OAAOgT,EACpB,IAAK,MAAMI,KAAeJ,EAAO,CAC/B,MAAM,OACJ/U,EAAM,QACNE,EAAO,QACPW,GACEL,EAAU2U,GACdnS,KAAK4R,kBAAkBpZ,IAAIuG,EAAQ/B,EAAQ,GAAI+U,EAAMI,GAAc,CACjEjV,UACAW,WAEJ,CAhCA,CAiCF,EAEF,SAASgT,EAAaxQ,EAAMgP,GAC1BhP,EAAKwR,SAASrZ,IAAI6W,GAClBhP,EAAKQ,mBAAmBwO,GAAc,IAAID,EAAW/O,EAAMgP,GAC3DhP,EAAKU,qBAAqBsO,GAAc,IAAIa,CAC9C,CASA,MAAM+B,EAAc,CAACF,EAAOvK,EAAc4K,IAAsB,CAACpV,EAAQC,EAAQiE,EAASwO,EAAU,CAAC,EAAG2C,GAAW,KACjH,IAAIC,EAAkBC,EACtB,MAAMrV,EAAmD,QAAxCoV,EAAmB5C,EAAQxS,eAA0C,IAArBoV,EAA8BA,EAAmB9K,EAAatK,QACzHW,EAAmD,QAAxC0U,EAAmB7C,EAAQ7R,eAA0C,IAArB0U,EAA8BA,EAAmB/K,EAAa3J,QAC/H,IAAIsU,EAAcE,EAAWrV,EAASD,EAAcC,EAAQC,EAAQC,GAChEkV,GAAqBvU,IAASsU,GAAe,WACjDJ,EAAMI,GAAeJ,EAAMI,IAAgB,GAC3CJ,EAAMI,GAAazW,KAAKwF,EAAQ,EC7QlC,SAASsR,EAAerR,EAAUH,EAAS,CAAC,EAAGqO,EAAYgC,GACzD,MAAMhR,EAAO,WAAc,IAAM,IAAIqQ,EAAWvP,IAAW,IAO3D,GANAd,EAAK+Q,cAAcjQ,EAAUkQ,GAC7BhR,EAAKiR,YAAYtQ,EAAQqO,GACzB,YAAgBhP,EAAKyR,OAAOvG,KAAKlL,IACjC,aAAgB,IACPA,EAAKoG,MAAM8E,KAAKlL,IACtB,SACmBhI,IAAlB2I,EAAOjC,OACT,OAAOsB,EAAKkL,KAAKA,KAAKlL,EAG1B,CAEA,SAASoS,EAAQvR,EAASF,GF04C1B,IAAwB/D,EEx4CtB,OFw4CsBA,EEz4CP,EF04Cf,EAAUqT,IAAIrT,EAAOpD,IAAKoD,EAAO6N,QACjCD,EAAkByF,IAAIrT,EAAOpD,IAAKoD,EAAOoR,UE14ClCmE,EAAe,CACpB5B,KAAM1P,GACLF,GAAU,CAAC,EAAG,OACnB,C,0sBCbA,MAAM0R,YAAeC,IAGf,IAFJ,IAAIC,EAAID,EAAI7W,OACR+W,EAAY,IACHpE,EAAI,EAAGA,EAAImE,EAAGnE,IAAK,CAE1B,IADA,IAAIrT,EAAI,GACC0X,EAAI,EAAGA,EAAIF,EAAGE,IACrB1X,EAAEM,KAAKiX,EAAIlE,GAAGqE,GAAGC,QAAQ,IAE3BF,GAAa,IAAMzX,EAAE4X,KAAK,MAAQ,MACpC,CAEJ,OADIH,GAAa,GACD,EAGZI,WAAa,KACjB,MAAM,EAACN,IAAI,EAACO,SAAUC,EAAAA,mCAAAA,UAAS,CAC7B,CAAC,GAAK,GAAK,EAAG,GACd,CAAC,EAAG,EAAG,GAAK,IACZ,CAAC,GAAK,GAAK,EAAG,GACd,CAAC,EAAG,EAAG,GAAK,OACR,EAACC,SAAS,EAACC,cAAeF,EAAAA,mCAAAA,UAAS,IACnC,EAACG,OAAO,EAACC,YAAaJ,EAAAA,mCAAAA,UAAS,gGAI/B,EAACK,QAAQ,EAACC,aAAcN,EAAAA,mCAAAA,WAAS,IACjC,EAACO,OAAO,EAACC,YAAaR,EAAAA,mCAAAA,UAAS,KAC/B,EAACS,YAAY,EAACC,iBAAkBV,EAAAA,mCAAAA,UAAS,CAAC,IAAK,IAAK,IAAK,OACzD,EAACW,cAAc,EAACC,mBAAoBZ,EAAAA,mCAAAA,UAAS,wBAE7Ca,4BAA+B5Y,IACnC,KAAMA,aAAa9C,OAGjB,OAFAmb,YAAW,GACXE,UAAU,iBACH,EAGT,IADA,IAAIM,GAAuB,EAClBxF,EAAI,EAAGA,EAAIrT,EAAEU,OAAQ2S,IAAK,CAEjC,KAAMrT,EAAEqT,aAAcnW,OAGpB,OAFAmb,YAAW,GACXE,UAAU,mBACH,EAGT,GAAMvY,EAAEqT,GAAG3S,SAAWV,EAAEU,OAGtB,OAFA2X,YAAW,GACXE,UAAU,kDACH,EAIT,IADA,IAAIO,EAAO,EACFpB,EAAI,EAAGA,EAAG1X,EAAEU,OAAQgX,IAC3BoB,GAAQ9Y,EAAEqT,GAAGqE,GAEXoB,EAAO,IACTD,GAAuB,EAE3B,CAQA,OAPIA,GACFR,YAAW,GACXE,UAAU,mDAEVF,YAAW,GACXE,UAAU,MAEL,CAAI,EAMb,IAFA,IAAIQ,aAAc,EACdC,WAAY,EACP3F,EAAI,EAAGA,EAAIkE,IAAI7W,OAAQ2S,IAAK,CAEnC,IADA,IAAIyF,KAAO,EACFpB,EAAI,EAAGA,EAAIH,IAAI7W,OAAQgX,IAAKoB,MAAQvB,IAAIlE,GAAGqE,GAChDoB,KAAO,IAAOC,aAAc,EAAMC,WAAY,GAChC,IAAdzB,IAAIlE,GAAGA,KAAY0F,aAAc,EACvC,CAEA,OACA,iDAAC,kDAAM,KACL,4EAEA,0DAAOE,QAAQ,oBAAkB,qBACrC,4DACI,6DACEC,KAAM,EACN/H,GAAG,mBACHgI,MAAO,CAACC,gBAAkBhB,QAAS,OAAQ,QAC3C7Y,MAAO2Y,OAAQmB,SAAWvZ,IACxBqY,UAAUrY,EAAE6D,OAAOpE,OACrB,IACE,IAAI+Z,EAAIxZ,EAAE6D,OAAOpE,MACbS,EAAIuZ,KAAKD,EAKf,CAJE,MAAOE,KAGP,OAFAnB,YAAW,QACXE,UAAU,eAEZ,CACA,IAAIkB,YAAcb,4BAA4B5Y,GACzCyZ,aAEL3B,QAAQ4B,IACFA,EAAOhZ,SAAWV,EAAEU,QACtBuX,aAAY0B,GAAQA,EAAO,IAEtB3Z,IACP,IAEJ,4DACA,0DAAOiZ,QAAQ,eAAa,gBAAqB,4DACjD,0DAAO9H,GAAG,cACV5R,MAAOmZ,cAAeW,SAAWvZ,IAC/B6Y,iBAAiB7Y,EAAE6D,OAAOpE,OAC1B,IACA,IAAIS,EAAIuZ,KAAKzZ,EAAE6D,OAAOpE,OACtBkZ,eAAezY,EAEf,CADE,MAAOwZ,KACT,GACCL,MAAO,CAACS,SAAS,OAAQC,WAAW,YAAaC,MAAM,UAC1D,wDAAKX,MAAO,CAACY,MAAO,SAAUzB,QAC9B,2DAAQ0B,QAAUla,IAGhB,IAFA,IAAIma,EAASC,KAAK3D,MAAM2D,KAAKC,UAAU5C,MACnCC,EAAID,IAAI7W,OACH2S,EAAI,EAAGA,EAAImE,EAAGnE,IACrB4G,EAAO5G,GAAG/S,KAAK,GAEjB2Z,EAAO3Z,KAAKpD,MAAMqG,KAAK,CAAC7C,OAAQ8W,EAAE,IAAI,CAACza,EAAGsW,IAAM,KAChDyE,OAAOmC,GACP,IAAIxC,EAAYH,YAAY2C,GAC5B9B,UAAUV,GACVQ,aAAY0B,GAAQA,EAAK,GAAE,GAC3B,WACF,2DAAQK,QAAUla,IAGhB,IAFA,IAAIma,EAASC,KAAK3D,MAAM2D,KAAKC,UAAU5C,MACnCC,EAAID,IAAI7W,OACH2S,EAAI,EAAGA,EAAImE,EAAGnE,IACrB4G,EAAO5G,GAAG+G,MAEZH,EAAOG,MACPtC,OAAOmC,GACP,IAAIxC,EAAYH,YAAY2C,GAC5B9B,UAAUV,GACVQ,aAAY0B,GAAQA,EAAK,GAAE,GAC3B,WACF,2DAAQK,QAAUla,IAGhB,IAFA,IAAIma,EAASC,KAAK3D,MAAM2D,KAAKC,UAAU5C,MACnCC,EAAID,IAAI7W,OACH2S,EAAI,EAAGA,EAAImE,EAAGnE,IAAK,CAE1B,IADA,IAAIyF,EAAO,EACFpB,EAAI,EAAGA,EAAIF,EAAGE,IACrBoB,GAAQmB,EAAO5G,GAAGqE,GAEpB,GAAIoB,EAAO,EACT,IAASpB,EAAI,EAAGA,EAAIF,EAAGE,IACrBuC,EAAO5G,GAAGqE,IAAMoB,CAGtB,CACAhB,OAAOmC,GACP,IAAIxC,EAAYH,YAAY2C,GAC5B9B,UAAUV,GAELmB,4BAA4BqB,GACjChC,aAAY0B,GAAQA,EAAK,IADmBU,QAAQC,IAAI,OAC7B,GAC3B,kBACF,4DACA,2DAAQN,QAAUla,IAChB,IAAIma,EAAS,CAAC,CAAC,GAAK,IAAM,CAAC,EAAG,IAC9BxB,eAAe,CAAC,QAAS,MACzBE,iBAAiB,kBACjBb,OAAOmC,GACP,IAAIxC,EAAYH,YAAY2C,GAC5B9B,UAAUV,GACVQ,aAAY0B,GAAQA,EAAK,GAAE,GAC3B,qCACF,2DAAQK,QAAUla,IAChB,IAAIma,EAAS,CAAC,CAAC,GAAK,GAAK,GAAI,CAAC,GAAK,EAAG,IAAM,CAAC,EAAG,EAAG,IACnDxB,eAAe,CAAC,QAAS,IAAK,OAC9BE,iBAAiB,wBACjBb,OAAOmC,GACP,IAAIxC,EAAYH,YAAY2C,GAC5B9B,UAAUV,GACVQ,aAAY0B,GAAQA,EAAK,GAAE,GAC3B,sCACF,2DAAQK,QAAUla,IAChB,IAAIma,EAAS,CAAC,CAAC,EAAG,GAAK,GAAK,IAAM,CAAC,EAAG,GAAK,GAAK,IAAM,CAAC,EAAG,GAAK,GAAK,IAAM,CAAC,EAAG,EAAG,EAAG,IACpFxB,eAAe,CAAC,QAAS,MAAO,OAAQ,SACxCE,iBAAiB,oCACjBb,OAAOmC,GACP,IAAIxC,EAAYH,YAAY2C,GAC5B9B,UAAUV,GACVQ,aAAY0B,GAAQA,EAAK,GAAE,GAC3B,mDACF,2DAAQK,QAAUla,IAChB,IAAIma,EAAS,CAAC,CAAC,GAAK,IAAM,CAAC,GAAK,KAChCxB,eAAe,CAAC,IAAK,MACrBE,iBAAiB,cACjBb,OAAOmC,GACP,IAAIxC,EAAYH,YAAY2C,GAC5B9B,UAAUV,GACVQ,aAAY0B,GAAQA,EAAK,GAAE,GAC3B,wBAEF,4DACE,2DAAKZ,YAAa,+BAAiC,cACnD,iDAACwB,UAAS,CAAC9b,IAAKuZ,SAAUT,IAAKA,IAAKiD,KAAMhC,YAAaiC,UAAW1B,YAAa2B,QAAS1B,aAE1F,wDAAKG,MAAO,CAACwB,QAAS,aACpB,iDAACC,aAAY,CAACnc,IAAKuZ,SAAUT,IAAKA,IAAKiD,KAAMhC,eAExC,EAGL+B,UAAY,IAAsC,IAArC,IAAChD,EAAG,KAAEiD,EAAI,UAAEC,EAAS,QAAEC,GAAQ,EAChD,MAAMlD,EAAID,EAAI7W,QAAUga,EAAS,EAAI,IAC/B,EAAC1Z,EAAM,EAAC6Z,IAAY9C,EAAAA,mCAAAA,UAAS,IAC7B,EAAC+C,EAAa,EAACC,IAAmBhD,EAAAA,mCAAAA,WAAS,IAC3C,EAACiD,EAAa,EAACC,IAAmBlD,EAAAA,mCAAAA,UAAS,IAC3C,EAACmD,EAAU,EAACC,IAAgBpD,EAAAA,mCAAAA,UAAS,IACrC,EAACqD,EAAW,EAACC,IAAiBtD,EAAAA,mCAAAA,UAAS,IACvC,EAACuD,EAAY,EAACC,IAAkBxD,EAAAA,mCAAAA,UAAS7a,MAAMqG,KAAK,CAAC7C,OAAQ8W,IAAI,CAACza,EAAGsW,IAAK,MAC1E,EAACmI,EAAc,EAACC,IAAoB1D,EAAAA,mCAAAA,UAAS7a,MAAMqG,KAAK,CAAC7C,OAAQ8W,IAAI,CAACza,EAAGsW,IAAK,MAC9E,EAACqI,EAAe,EAACC,IAAqB5D,EAAAA,mCAAAA,UAAS,IAC/C,EAAC6D,EAAa,EAACC,IAAmB9D,EAAAA,mCAAAA,UAAS,IAejD+D,EAAAA,mCAAAA,YAAU,KACR,GAAIhB,EAAc,CAChB,IAAItD,EAAID,EAAI7W,OACZ,GAAIsa,IAAiBxD,GAAyC,IAApCD,EAAIyD,GAAcA,GAAuB,CAEjES,GAAiBM,IACf,IAAI/b,GAAC,+EAAO+b,GAEZ,OADA/b,EAAEgb,IAAiB,EACZhb,CAAC,IAEVqb,GAAc1B,GAAQA,EAAK,IAC3BkC,GAAiBH,GAAkBN,EAAa,IAAIzD,QAAQ,IAC5DgE,GAAkBhC,GAAQA,EAAOuB,IACjCC,EAAa,GACb,IAAIY,EAAI7e,MAAMqG,KAAK,CAAC7C,OAAQ6W,EAAI7W,QAAUga,EAAS,EAAG,KAAK,CAAC3d,EAAGsW,IAAK,IAGpE,OAFAkI,EAAeQ,QACfd,EAAgBja,EAElB,CAKA,IAHA,IAAIsY,EAAIxb,KAAKke,SAETC,EADAzE,EAAID,EAAI7W,OAEHgX,EAAI,EAAGA,EAAIF,EAAGE,IAAK,CAC1B,GAAI4B,EAAI/B,EAAIyD,GAActD,GAAI,CAC5BuE,EAAWvE,EACX,KACF,CACE4B,GAAK/B,EAAIyD,GAActD,EAE3B,CACAuD,EAAgBgB,GAChBd,GAAaxB,GAAQA,EAAK,IAC1B4B,GAAeQ,IACb,IAAI/b,GAAC,+EAAO+b,GAEZ,OADA/b,EAAEgb,IAAiB,EACZhb,CAAC,GAEZ,IACC,CAACkb,EAAWQ,EAAgBZ,IAI/B,IAAIhC,EAAOoC,EACX,OAAQ,kGACR,wDAAK/B,MAAO,CAAC+C,OAAQ,QACrB,2DAAQlC,QAAS,IAAIe,GAAiBoB,IAAQA,KAAI,cAClD,2DAAQnC,QAAS,KA3Df2B,EAAkB,GAClBZ,GAAgB,GAChBE,EAAgBja,GAChBma,EAAa,GACbE,EAAc,GACdE,EAAere,MAAMqG,KAAK,CAAC7C,OAAQ8W,IAAI,IAAK,KAC5CiE,EAAiBve,MAAMqG,KAAK,CAAC7C,OAAQ8W,IAAI,IAAK,KAC9CmE,EAAkB,QAClBE,EAAgB,KAmDc,UAE/BpB,GAAc,sEAAY,2DAAKW,GAAgB,qBAAmBQ,EAAY,KAC/E,qEAAYV,GACZ,wDAAKkB,UAAU,qBACb,8DACE,8DACA,2DACE,4DACCd,EAAYvX,KAAI,CAAChH,EAAGsW,IAAO,uDAAI5U,IAAK4U,GAAImH,EAAKnH,IAAI,SAGpD,8DACA,2DACE,yEACCiI,EAAYvX,KAAI,CAAChH,EAAGsW,IAAO,uDAAI5U,IAAK4U,GAAItW,MAE3C,2DACE,yEACCue,EAAYvX,KAAI,CAAChH,EAAGsW,IAAO,uDAAI5U,IAAK4U,IAAKtW,EAAE+b,GAAMnB,QAAQ,OAE3D8C,GACA,2DACC,8EACCe,EAAczX,KAAI,CAAChH,EAAGsW,IAAO,uDAAI5U,IAAK4U,GAAItW,SAO9C,EAGQsf,KAAO,IAAM,iDAAC,+CAAG,CAACC,MAAM,aAErC,uCAEA,MAAMC,UAAY,CAACC,EAAGC,IAAC,MAAUD,EAAE,IAAE,IAAIC,EAAC,iDAIpCC,WAAa,CAACC,EAAKC,EAAQC,EAAIC,EAAIC,EAAIC,KAE3C,IAAIjd,EAAI,GACJkd,EAAM,GAAGnf,KAAKof,GAAG,IACrB,GAAIN,EAAQ,CACV,IAAIO,EAAMN,EAAG9c,EAAEjC,KAAKsf,IAAItf,KAAKof,GAAG,EAAED,GAC9BI,EAAMP,EAAG/c,EAAEjC,KAAKwf,IAAIxf,KAAKof,GAAG,EAAED,GAC9BM,EAAMR,EAAGhd,EAAEjC,KAAKsf,IAAItf,KAAKof,GAAG,EAAED,GAC9BO,EAAMR,EAAGjd,EAAEjC,KAAKwf,IAAIxf,KAAKof,GAAG,EAAED,GAOlC,MAAM,KAAME,EAAG,IAAIE,EAAG,YALbR,EAAK9c,MAAUjC,KAAKsf,IAAItf,KAAKof,GAAG,EAAED,IAMrC,KALGH,EAAK/c,MAAUjC,KAAKwf,IAAIxf,KAAKof,GAAG,EAAED,IAK/B,MAJHJ,EAAK9c,MAAUjC,KAAKsf,IAAItf,KAAKof,GAAG,EAAED,IAIxB,KAHVH,EAAK/c,MAAUjC,KAAKwf,IAAIxf,KAAKof,GAAG,EAAED,IAGlB,KAAKM,EAAG,IAAIC,EAAG,aACpCD,EAAMxd,EAAE,EAAEjC,KAAKsf,IAAItf,KAAKof,GAAG,IAAE,KAAIM,EAAMzd,EAAE,EAAEjC,KAAKwf,IAAIxf,KAAKof,GAAG,IAAE,WAC9DK,EAAG,IAAIC,EAAG,YACVD,EAAMxd,EAAE,EAAEjC,KAAKsf,IAAItf,KAAKof,GAAG,EAAI,EAAED,IAAM,KAAIO,EAAMzd,EAAE,EAAEjC,KAAKwf,IAAIxf,KAAKof,GAAG,EAAE,EAAED,GAChF,CAEE,IAAIQ,GAAMZ,EAAKE,GAAM,EACjBW,GAAMZ,EAAKE,GAAM,EACjBW,IAAQX,EAAKF,GAAM,EAAIhf,KAAKwf,IAAI,IAAIL,GACpCW,IAAQb,EAAKF,GAAM,EAAI/e,KAAKwf,IAAI,IAAIL,GAEpC5T,EAAKvL,KAAK+f,QAAQb,EAAKF,GAAKC,EAAKF,GAOrC,MAAM,MANFM,EAAMN,EAAG9c,EAAEjC,KAAKsf,IAAI/T,EAAK4T,IAMd,KALXI,EAAMP,EAAG/c,EAAEjC,KAAKwf,IAAIjU,EAAK4T,IAKP,aAClBQ,EAAGE,GAAE,KAAID,EAAGE,GAAE,MALdL,EAAMR,EAAGhd,EAAEjC,KAAKsf,IAAI/T,EAAK4T,EAAQnf,KAAKof,KAKhB,KAJtBM,EAAMR,EAAGjd,EAAEjC,KAAKwf,IAAIjU,EAAK4T,EAAQnf,KAAKof,KAIT,YAC7BK,EAAMxd,EAAE,EAAEjC,KAAKsf,IAAI/T,IAAG,KAAImU,EAAMzd,EAAE,EAAEjC,KAAKwf,IAAIjU,IAAG,WAChDkU,EAAG,IAAIC,EAAG,YACVD,EAAMxd,EAAE,EAAEjC,KAAKsf,IAAI/T,EAAK,EAAE4T,IAAM,KAAIO,EAAMzd,EAAE,EAAEjC,KAAKwf,IAAIjU,EAAK,EAAE4T,IAAM,QAE1E,EAGIrC,aAAe,IAAkB,IAAjB,IAACrD,EAAG,KAAEiD,GAAK,EAC/B,IAAIhD,EAAID,EAAI7W,QACPod,EAAQC,IAAOC,EAAAA,+CAAAA,IAAWxG,GAAInE,IAAC,CAChCmJ,EAAG,GAAS,IAAJnJ,EAAQmE,EAChBiF,EAAG,IACHwB,EAAG1B,UAAU,GAAS,IAAJlJ,EAAQmE,EAAG,QAC7B,CAACD,EAAI7W,UACJwd,EAAOC,IAAQH,EAAAA,+CAAAA,IAAWxG,EAAEA,GAAI4G,IACnC,IAAI/K,EAAIvV,KAAKugB,MAAMD,EAAM5G,GACrBE,EAAI0G,EAAM5G,EACVmF,EAAMpF,EAAIlE,GAAGqE,GAEjB,MAAO,CACLiF,IAAKA,EACL2B,OAAO,oBAAqB3B,EAAG,IAC/BsB,EAAGvB,WAAWC,EAAKtJ,IAAIqE,EACrBoG,EAAOzK,GAAGmJ,EAAEpH,MACZ0I,EAAOzK,GAAGoJ,EAAErH,MACZ0I,EAAOpG,GAAG8E,EAAEpH,MACZ0I,EAAOpG,GAAG+E,EAAErH,OACf,GACA,CAAC0I,IAqDJ,IAjBA,IAAI,EAACS,EAAc,EAACC,IAAoBzG,EAAAA,mCAAAA,UAAS,GAC7C5H,GAAOkH,EAAAA,gDAAAA,UAASvX,IAClB,IAAIuT,EAAIvT,EAAEwE,KAAK,GACXyE,EAAOjJ,EAAEiJ,KACT0U,EAAK3d,EAAEuH,MAAM,GACbqW,EAAK5d,EAAEuH,MAAM,GACjB,GAAW,IAAPoW,GAAmB,IAAPC,EAAhB,CACA,IAAIe,EAAKX,EAAOzK,GAAGmJ,EAAEkC,KAAOjB,EACxBkB,EAAKb,EAAOzK,GAAGoJ,EAAEiC,KAAOhB,EACxBkB,EAAKrC,UAAUkC,EAAIE,GACvBZ,EAAI/c,MA5CK,EAAC6d,EAAWJ,EAAIE,EAAIC,EAAI7V,IAAUsK,GAC3CA,IAAMwL,EACJ,CACErC,EAAGiC,EACHhC,EAAGkC,EACHV,EAAGW,EACHE,UAAW/V,GAEb,CACEyT,EAAGsB,EAAOzK,GAAGmJ,EAAEkC,KACfjC,EAAGqB,EAAOzK,GAAGoJ,EAAEiC,KACfT,EAAGH,EAAOzK,GAAG4K,EAAES,KACfI,UAAW/V,GAgCLpE,CAAG0O,EAAGoL,EAAIE,EAAIC,EAAI7V,IAC5BoV,EAAKnd,MA7BK,EAAC6d,EAAWJ,EAAIE,EAAI5V,IAC/BqV,IACC,IAAI/K,EAAIvV,KAAKugB,MAAMD,EAAM5G,GACrBE,EAAI0G,EAAM5G,EACVmF,EAAMpF,EAAIlE,GAAGqE,GAEjB,MAAO,CACLiF,IAAKA,EACL2B,OAAO,oBAAqB3B,EAAG,IAC/BsB,EAAGvB,WAAWC,EAAKtJ,IAAIqE,EACpBrE,IAAIwL,EAAWJ,EAAKX,EAAOzK,GAAGmJ,EAAEkC,KAChCrL,IAAIwL,EAAWF,EAAKb,EAAOzK,GAAGoJ,EAAEiC,KAChChH,IAAImH,EAAWJ,EAAKX,EAAOpG,GAAG8E,EAAEkC,KAChChH,IAAImH,EAAWF,EAAKb,EAAOpG,GAAG+E,EAAEiC,MACnCI,UAAW/V,EACZ,EAcUgW,CAAI1L,EAAGoL,EAAIE,EAAI5V,GALM,CAKA,IAK9BiW,EAAO,GACFZ,EAAM,EAAGA,EAAM5G,EAAIA,EAAG4G,IAAO,CACpC,IAAIH,EAAIC,EAAME,GAAKH,EACfK,EAASJ,EAAME,GAAKE,OACxBU,EAAK1e,KACH,sDAAG7B,IAAK+Y,EAAE4G,GACR,iDAAC,sDAAa,CAACH,EAAGA,EAClBK,OAAQA,EAAQW,YAAY,MAC5BC,cAAc,QACdC,KAAK,UAIX,CACA,IAAK,IAAI9L,EAAI,EAAGA,EAAImE,EAAGnE,IAAK,CAC1B,IAAImJ,EAAIsB,EAAOzK,GAAGmJ,EACdC,EAAIqB,EAAOzK,GAAGoJ,EACdwB,EAAIH,EAAOzK,GAAG4K,EAElBe,EAAK1e,KACL,sDAAG7B,IAAK4U,GAAG,iDAAC,sDAAa,eAAC4K,EAAGA,EAC7BK,OAAO,OAAOW,YAAY,MAC1BE,KAAoB,IAAd5H,EAAIlE,GAAGA,GAAY,OAAO,QAC5BlD,EAAKkD,KAET,iDAAC,sDAAa,CAACmJ,EAAGA,EAAGC,EAAGA,EAAGL,UAAU,UAAUgD,iBAAiB,SAASC,WAAW,SAASlG,MAAO,CAACS,SAAS,OAC7G0F,cAAe,SACd9E,EAAKnH,IAAIA,IAGX,CAEF,OACE,wDAAKyG,MAAM,OAAOyF,OAAO,MAAMC,QAAQ,eACpCR,EACG,C","sources":["webpack://gatsby-starter-default/./node_modules/@use-gesture/core/dist/maths-0ab39ae9.esm.js","webpack://gatsby-starter-default/./node_modules/@use-gesture/core/dist/actions-fe213e88.esm.js","webpack://gatsby-starter-default/./node_modules/@use-gesture/core/dist/use-gesture-core.esm.js","webpack://gatsby-starter-default/./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js","webpack://gatsby-starter-default/./src/pages/markov.js"],"sourcesContent":["function clamp(v, min, max) {\n  return Math.max(min, Math.min(v, max));\n}\nconst V = {\n  toVector(v, fallback) {\n    if (v === undefined) v = fallback;\n    return Array.isArray(v) ? v : [v, v];\n  },\n  add(v1, v2) {\n    return [v1[0] + v2[0], v1[1] + v2[1]];\n  },\n  sub(v1, v2) {\n    return [v1[0] - v2[0], v1[1] - v2[1]];\n  },\n  addTo(v1, v2) {\n    v1[0] += v2[0];\n    v1[1] += v2[1];\n  },\n  subTo(v1, v2) {\n    v1[0] -= v2[0];\n    v1[1] -= v2[1];\n  }\n};\nfunction rubberband(distance, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) return Math.pow(distance, constant * 5);\n  return distance * dimension * constant / (dimension + constant * distance);\n}\nfunction rubberbandIfOutOfBounds(position, min, max, constant = 0.15) {\n  if (constant === 0) return clamp(position, min, max);\n  if (position < min) return -rubberband(min - position, max - min, constant) + min;\n  if (position > max) return +rubberband(position - max, max - min, constant) + max;\n  return position;\n}\nfunction computeRubberband(bounds, [Vx, Vy], [Rx, Ry]) {\n  const [[X0, X1], [Y0, Y1]] = bounds;\n  return [rubberbandIfOutOfBounds(Vx, X0, X1, Rx), rubberbandIfOutOfBounds(Vy, Y0, Y1, Ry)];\n}\n\nexport { V, computeRubberband as c, rubberbandIfOutOfBounds as r };\n","import { V, c as computeRubberband } from './maths-0ab39ae9.esm.js';\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n\nconst EVENT_TYPE_MAP = {\n  pointer: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  mouse: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  touch: {\n    start: 'start',\n    change: 'move',\n    end: 'end'\n  },\n  gesture: {\n    start: 'start',\n    change: 'change',\n    end: 'end'\n  }\n};\nfunction capitalize(string) {\n  if (!string) return '';\n  return string[0].toUpperCase() + string.slice(1);\n}\nconst actionsWithoutCaptureSupported = ['enter', 'leave'];\nfunction hasCapture(capture = false, actionKey) {\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\nfunction toHandlerProp(device, action = '', capture = false) {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return 'on' + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? 'Capture' : '');\n}\nconst pointerCaptureEvents = ['gotpointercapture', 'lostpointercapture'];\nfunction parseProp(prop) {\n  let eventKey = prop.substring(2).toLowerCase();\n  const passive = !!~eventKey.indexOf('passive');\n  if (passive) eventKey = eventKey.replace('passive', '');\n  const captureKey = pointerCaptureEvents.includes(eventKey) ? 'capturecapture' : 'capture';\n  const capture = !!~eventKey.indexOf(captureKey);\n  if (capture) eventKey = eventKey.replace('capture', '');\n  return {\n    device: eventKey,\n    capture,\n    passive\n  };\n}\nfunction toDomEventType(device, action = '') {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return 'touches' in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event)) return 'touch';\n  if ('pointerType' in event) return event.pointerType;\n  return 'mouse';\n}\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter(e => {\n    var _event$currentTarget, _event$currentTarget$;\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 || (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\nfunction getTouchList(event) {\n  return event.type === 'touchend' || event.type === 'touchcancel' ? event.changedTouches : event.targetTouches;\n}\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\nfunction distanceAngle(P1, P2) {\n  try {\n    const dx = P2.clientX - P1.clientX;\n    const dy = P2.clientY - P1.clientY;\n    const cx = (P2.clientX + P1.clientX) / 2;\n    const cy = (P2.clientY + P1.clientY) / 2;\n    const distance = Math.hypot(dx, dy);\n    const angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n    const origin = [cx, cy];\n    return {\n      angle,\n      distance,\n      origin\n    };\n  } catch (_unused) {}\n  return null;\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map(touch => touch.identifier);\n}\nfunction touchDistanceAngle(event, ids) {\n  const [P1, P2] = Array.from(event.touches).filter(touch => ids.includes(touch.identifier));\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  const valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  const valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  let {\n    deltaX,\n    deltaY,\n    deltaMode\n  } = event;\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n  const {\n    scrollX,\n    scrollY,\n    scrollLeft,\n    scrollTop\n  } = event.currentTarget;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  const payload = {};\n  if ('buttons' in event) payload.buttons = event.buttons;\n  if ('shiftKey' in event) {\n    const {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    } = event;\n    Object.assign(payload, {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    });\n  }\n  return payload;\n}\n\nfunction call(v, ...args) {\n  if (typeof v === 'function') {\n    return v(...args);\n  } else {\n    return v;\n  }\n}\nfunction noop() {}\nfunction chain(...fns) {\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    let result;\n    for (const fn of fns) {\n      result = fn.apply(this, arguments) || result;\n    }\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\n\nconst BEFORE_LAST_KINEMATICS_DELAY = 32;\nclass Engine {\n  constructor(ctrl, args, key) {\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init) this.init();\n      this.reset();\n    }\n  }\n  get state() {\n    return this.ctrl.state[this.key];\n  }\n  set state(state) {\n    this.ctrl.state[this.key] = state;\n  }\n  get shared() {\n    return this.ctrl.state.shared;\n  }\n  get eventStore() {\n    return this.ctrl.gestureEventStores[this.key];\n  }\n  get timeoutStore() {\n    return this.ctrl.gestureTimeoutStores[this.key];\n  }\n  get config() {\n    return this.ctrl.config[this.key];\n  }\n  get sharedConfig() {\n    return this.ctrl.config.shared;\n  }\n  get handler() {\n    return this.ctrl.handlers[this.key];\n  }\n  reset() {\n    const {\n      state,\n      shared,\n      ingKey,\n      args\n    } = this;\n    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n    state._step = [false, false];\n    state.intentional = false;\n    state._movement = [0, 0];\n    state._distance = [0, 0];\n    state._direction = [0, 0];\n    state._delta = [0, 0];\n    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n    state.args = args;\n    state.axis = undefined;\n    state.memo = undefined;\n    state.elapsedTime = state.timeDelta = 0;\n    state.direction = [0, 0];\n    state.distance = [0, 0];\n    state.overflow = [0, 0];\n    state._movementBound = [false, false];\n    state.velocity = [0, 0];\n    state.movement = [0, 0];\n    state.delta = [0, 0];\n    state.timeStamp = 0;\n  }\n  start(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._active) {\n      this.reset();\n      this.computeInitial();\n      state._active = true;\n      state.target = event.target;\n      state.currentTarget = event.currentTarget;\n      state.lastOffset = config.from ? call(config.from, state) : state.offset;\n      state.offset = state.lastOffset;\n      state.startTime = state.timeStamp = event.timeStamp;\n    }\n  }\n  computeValues(values) {\n    const state = this.state;\n    state._values = values;\n    state.values = this.config.transform(values);\n  }\n  computeInitial() {\n    const state = this.state;\n    state._initial = state._values;\n    state.initial = state.values;\n  }\n  compute(event) {\n    const {\n      state,\n      config,\n      shared\n    } = this;\n    state.args = this.args;\n    let dt = 0;\n    if (event) {\n      state.event = event;\n      if (config.preventDefault && event.cancelable) state.event.preventDefault();\n      state.type = event.type;\n      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n      shared.locked = !!document.pointerLockElement;\n      Object.assign(shared, getEventDetails(event));\n      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n      dt = event.timeStamp - state.timeStamp;\n      state.timeStamp = event.timeStamp;\n      state.elapsedTime = state.timeStamp - state.startTime;\n    }\n    if (state._active) {\n      const _absoluteDelta = state._delta.map(Math.abs);\n      V.addTo(state._distance, _absoluteDelta);\n    }\n    if (this.axisIntent) this.axisIntent(event);\n    const [_m0, _m1] = state._movement;\n    const [t0, t1] = config.threshold;\n    const {\n      _step,\n      values\n    } = state;\n    if (config.hasCustomTransform) {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && values[0];\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && values[1];\n    } else {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n    }\n    state.intentional = _step[0] !== false || _step[1] !== false;\n    if (!state.intentional) return;\n    const movement = [0, 0];\n    if (config.hasCustomTransform) {\n      const [v0, v1] = values;\n      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? v1 - _step[1] : 0;\n    } else {\n      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n    }\n    if (this.restrictToAxis && !state._blocked) this.restrictToAxis(movement);\n    const previousOffset = state.offset;\n    const gestureIsActive = state._active && !state._blocked || state.active;\n    if (gestureIsActive) {\n      state.first = state._active && !state.active;\n      state.last = !state._active && state.active;\n      state.active = shared[this.ingKey] = state._active;\n      if (event) {\n        if (state.first) {\n          if ('bounds' in config) state._bounds = call(config.bounds, state);\n          if (this.setup) this.setup();\n        }\n        state.movement = movement;\n        this.computeOffset();\n      }\n    }\n    const [ox, oy] = state.offset;\n    const [[x0, x1], [y0, y1]] = state._bounds;\n    state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n    state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n    state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n    const rubberband = state._active ? config.rubberband || [0, 0] : [0, 0];\n    state.offset = computeRubberband(state._bounds, state.offset, rubberband);\n    state.delta = V.sub(state.offset, previousOffset);\n    this.computeMovement();\n    if (gestureIsActive && (!state.last || dt > BEFORE_LAST_KINEMATICS_DELAY)) {\n      state.delta = V.sub(state.offset, previousOffset);\n      const absoluteDelta = state.delta.map(Math.abs);\n      V.addTo(state.distance, absoluteDelta);\n      state.direction = state.delta.map(Math.sign);\n      state._direction = state._delta.map(Math.sign);\n      if (!state.first && dt > 0) {\n        state.velocity = [absoluteDelta[0] / dt, absoluteDelta[1] / dt];\n        state.timeDelta = dt;\n      }\n    }\n  }\n  emit() {\n    const state = this.state;\n    const shared = this.shared;\n    const config = this.config;\n    if (!state._active) this.clean();\n    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents) return;\n    const memo = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {\n      [this.aliasKey]: state.values\n    }));\n    if (memo !== undefined) state.memo = memo;\n  }\n  clean() {\n    this.eventStore.clean();\n    this.timeoutStore.clean();\n  }\n}\n\nfunction selectAxis([dx, dy], threshold) {\n  const absDx = Math.abs(dx);\n  const absDy = Math.abs(dy);\n  if (absDx > absDy && absDx > threshold) {\n    return 'x';\n  }\n  if (absDy > absDx && absDy > threshold) {\n    return 'y';\n  }\n  return undefined;\n}\nclass CoordinatesEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"aliasKey\", 'xy');\n  }\n  reset() {\n    super.reset();\n    this.state.axis = undefined;\n  }\n  init() {\n    this.state.offset = [0, 0];\n    this.state.lastOffset = [0, 0];\n  }\n  computeOffset() {\n    this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n  }\n  computeMovement() {\n    this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n  }\n  axisIntent(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state.axis && event) {\n      const threshold = typeof config.axisThreshold === 'object' ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n      state.axis = selectAxis(state._movement, threshold);\n    }\n    state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n  }\n  restrictToAxis(v) {\n    if (this.config.axis || this.config.lockDirection) {\n      switch (this.state.axis) {\n        case 'x':\n          v[1] = 0;\n          break;\n        case 'y':\n          v[0] = 0;\n          break;\n      }\n    }\n  }\n}\n\nconst identity = v => v;\nconst DEFAULT_RUBBERBAND = 0.15;\nconst commonConfigResolver = {\n  enabled(value = true) {\n    return value;\n  },\n  eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n  preventDefault(value = false) {\n    return value;\n  },\n  triggerAllEvents(value = false) {\n    return value;\n  },\n  rubberband(value = 0) {\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n      case false:\n        return [0, 0];\n      default:\n        return V.toVector(value);\n    }\n  },\n  from(value) {\n    if (typeof value === 'function') return value;\n    if (value != null) return V.toVector(value);\n  },\n  transform(value, _k, config) {\n    const transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n    if (process.env.NODE_ENV === 'development') {\n      const originalTransform = transform || identity;\n      return v => {\n        const r = originalTransform(v);\n        if (!isFinite(r[0]) || !isFinite(r[1])) {\n          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r[0]},${[1]}]`);\n        }\n        return r;\n      };\n    }\n    return transform || identity;\n  },\n  threshold(value) {\n    return V.toVector(value, 0);\n  }\n};\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(commonConfigResolver, {\n    domTarget(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n      }\n      return NaN;\n    },\n    lockDirection(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`lockDirection\\` option has been merged with \\`axis\\`. Use it as in \\`{ axis: 'lock' }\\``);\n      }\n      return NaN;\n    },\n    initial(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`initial\\` option has been renamed to \\`from\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nconst DEFAULT_AXIS_THRESHOLD = 0;\nconst coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis(_v, _k, {\n    axis\n  }) {\n    this.lockDirection = axis === 'lock';\n    if (!this.lockDirection) return axis;\n  },\n  axisThreshold(value = DEFAULT_AXIS_THRESHOLD) {\n    return value;\n  },\n  bounds(value = {}) {\n    if (typeof value === 'function') {\n      return state => coordinatesConfigResolver.bounds(value(state));\n    }\n    if ('current' in value) {\n      return () => value.current;\n    }\n    if (typeof HTMLElement === 'function' && value instanceof HTMLElement) {\n      return value;\n    }\n    const {\n      left = -Infinity,\n      right = Infinity,\n      top = -Infinity,\n      bottom = Infinity\n    } = value;\n    return [[left, right], [top, bottom]];\n  }\n});\n\nconst KEYS_DELTA_MAP = {\n  ArrowRight: (displacement, factor = 1) => [displacement * factor, 0],\n  ArrowLeft: (displacement, factor = 1) => [-1 * displacement * factor, 0],\n  ArrowUp: (displacement, factor = 1) => [0, -1 * displacement * factor],\n  ArrowDown: (displacement, factor = 1) => [0, displacement * factor]\n};\nclass DragEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'dragging');\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._pointerId = undefined;\n    state._pointerActive = false;\n    state._keyboardActive = false;\n    state._preventScroll = false;\n    state._delayed = false;\n    state.swipe = [0, 0];\n    state.tap = false;\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n  }\n  setup() {\n    const state = this.state;\n    if (state._bounds instanceof HTMLElement) {\n      const boundRect = state._bounds.getBoundingClientRect();\n      const targetRect = state.currentTarget.getBoundingClientRect();\n      const _bounds = {\n        left: boundRect.left - targetRect.left + state.offset[0],\n        right: boundRect.right - targetRect.right + state.offset[0],\n        top: boundRect.top - targetRect.top + state.offset[1],\n        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n      };\n      state._bounds = coordinatesConfigResolver.bounds(_bounds);\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    state.canceled = true;\n    state._active = false;\n    setTimeout(() => {\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  setActive() {\n    this.state._active = this.state._pointerActive || this.state._keyboardActive;\n  }\n  clean() {\n    this.pointerClean();\n    this.state._pointerActive = false;\n    this.state._keyboardActive = false;\n    super.clean();\n  }\n  pointerDown(event) {\n    const config = this.config;\n    const state = this.state;\n    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons)) return;\n    const ctrlIds = this.ctrl.setEventIds(event);\n    if (config.pointerCapture) {\n      event.target.setPointerCapture(event.pointerId);\n    }\n    if (ctrlIds && ctrlIds.size > 1 && state._pointerActive) return;\n    this.start(event);\n    this.setupPointer(event);\n    state._pointerId = pointerId(event);\n    state._pointerActive = true;\n    this.computeValues(pointerValues(event));\n    this.computeInitial();\n    if (config.preventScrollAxis && getPointerType(event) !== 'mouse') {\n      state._active = false;\n      this.setupScrollPrevention(event);\n    } else if (config.delay > 0) {\n      this.setupDelayTrigger(event);\n      if (config.triggerAllEvents) {\n        this.compute(event);\n        this.emit();\n      }\n    } else {\n      this.startPointerDrag(event);\n    }\n  }\n  startPointerDrag(event) {\n    const state = this.state;\n    state._active = true;\n    state._preventScroll = true;\n    state._delayed = false;\n    this.compute(event);\n    this.emit();\n  }\n  pointerMove(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    const _values = pointerValues(event);\n    if (document.pointerLockElement === event.target) {\n      state._delta = [event.movementX, event.movementY];\n    } else {\n      state._delta = V.sub(_values, state._values);\n      this.computeValues(_values);\n    }\n    V.addTo(state._movement, state._delta);\n    this.compute(event);\n    if (state._delayed && state.intentional) {\n      this.timeoutStore.remove('dragDelay');\n      state.active = false;\n      this.startPointerDrag(event);\n      return;\n    }\n    if (config.preventScrollAxis && !state._preventScroll) {\n      if (state.axis) {\n        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === 'xy') {\n          state._active = false;\n          this.clean();\n          return;\n        } else {\n          this.timeoutStore.remove('startPointerDrag');\n          this.startPointerDrag(event);\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n    this.emit();\n  }\n  pointerUp(event) {\n    this.ctrl.setEventIds(event);\n    try {\n      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n        ;\n        event.target.releasePointerCapture(event.pointerId);\n      }\n    } catch (_unused) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \\`@react-three/fiber\\`. \\n\\nPlease upgrade to the latest version.`);\n      }\n    }\n    const state = this.state;\n    const config = this.config;\n    if (!state._active || !state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    this.state._pointerActive = false;\n    this.setActive();\n    this.compute(event);\n    const [dx, dy] = state._distance;\n    state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n    if (state.tap && config.filterTaps) {\n      state._force = true;\n    } else {\n      const [_dx, _dy] = state._delta;\n      const [_mx, _my] = state._movement;\n      const [svx, svy] = config.swipe.velocity;\n      const [sx, sy] = config.swipe.distance;\n      const sdt = config.swipe.duration;\n      if (state.elapsedTime < sdt) {\n        const _vx = Math.abs(_dx / state.timeDelta);\n        const _vy = Math.abs(_dy / state.timeDelta);\n        if (_vx > svx && Math.abs(_mx) > sx) state.swipe[0] = Math.sign(_dx);\n        if (_vy > svy && Math.abs(_my) > sy) state.swipe[1] = Math.sign(_dy);\n      }\n    }\n    this.emit();\n  }\n  pointerClick(event) {\n    if (!this.state.tap && event.detail > 0) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setupPointer(event) {\n    const config = this.config;\n    const device = config.device;\n    if (process.env.NODE_ENV === 'development') {\n      try {\n        if (device === 'pointer' && config.preventScrollDelay === undefined) {\n          const currentTarget = 'uv' in event ? event.sourceEvent.currentTarget : event.currentTarget;\n          const style = window.getComputedStyle(currentTarget);\n          if (style.touchAction === 'auto') {\n            console.warn(`[@use-gesture]: The drag target has its \\`touch-action\\` style property set to \\`auto\\`. It is recommended to add \\`touch-action: 'none'\\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\\n\\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);\n          }\n        }\n      } catch (_unused2) {}\n    }\n    if (config.pointerLock) {\n      event.currentTarget.requestPointerLock();\n    }\n    if (!config.pointerCapture) {\n      this.eventStore.add(this.sharedConfig.window, device, 'change', this.pointerMove.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'end', this.pointerUp.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'cancel', this.pointerUp.bind(this));\n    }\n  }\n  pointerClean() {\n    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n      document.exitPointerLock();\n    }\n  }\n  preventScroll(event) {\n    if (this.state._preventScroll && event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  setupScrollPrevention(event) {\n    this.state._preventScroll = false;\n    persistEvent(event);\n    const remove = this.eventStore.add(this.sharedConfig.window, 'touch', 'change', this.preventScroll.bind(this), {\n      passive: false\n    });\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'end', remove);\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'cancel', remove);\n    this.timeoutStore.add('startPointerDrag', this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n  }\n  setupDelayTrigger(event) {\n    this.state._delayed = true;\n    this.timeoutStore.add('dragDelay', () => {\n      this.state._step = [0, 0];\n      this.startPointerDrag(event);\n    }, this.config.delay);\n  }\n  keyDown(event) {\n    const deltaFn = KEYS_DELTA_MAP[event.key];\n    if (deltaFn) {\n      const state = this.state;\n      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n      this.start(event);\n      state._delta = deltaFn(this.config.keyboardDisplacement, factor);\n      state._keyboardActive = true;\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      this.emit();\n    }\n  }\n  keyUp(event) {\n    if (!(event.key in KEYS_DELTA_MAP)) return;\n    this.state._keyboardActive = false;\n    this.setActive();\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    bindFunction(device, 'start', this.pointerDown.bind(this));\n    if (this.config.pointerCapture) {\n      bindFunction(device, 'change', this.pointerMove.bind(this));\n      bindFunction(device, 'end', this.pointerUp.bind(this));\n      bindFunction(device, 'cancel', this.pointerUp.bind(this));\n      bindFunction('lostPointerCapture', '', this.pointerUp.bind(this));\n    }\n    if (this.config.keys) {\n      bindFunction('key', 'down', this.keyDown.bind(this));\n      bindFunction('key', 'up', this.keyUp.bind(this));\n    }\n    if (this.config.filterTaps) {\n      bindFunction('click', '', this.pointerClick.bind(this), {\n        capture: true,\n        passive: false\n      });\n    }\n  }\n}\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\n\nconst isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\nfunction supportsTouchEvents() {\n  return isBrowser && 'ontouchstart' in window;\n}\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\nfunction supportsPointerEvents() {\n  return isBrowser && 'onpointerdown' in window;\n}\nfunction supportsPointerLock() {\n  return isBrowser && 'exitPointerLock' in window.document;\n}\nfunction supportsGestureEvents() {\n  try {\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\nconst SUPPORT = {\n  isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: supportsTouchEvents(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\n\nconst DEFAULT_PREVENT_SCROLL_DELAY = 250;\nconst DEFAULT_DRAG_DELAY = 180;\nconst DEFAULT_SWIPE_VELOCITY = 0.5;\nconst DEFAULT_SWIPE_DISTANCE = 50;\nconst DEFAULT_SWIPE_DURATION = 250;\nconst DEFAULT_KEYBOARD_DISPLACEMENT = 10;\nconst DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nconst dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device(_v, _k, {\n    pointer: {\n      touch = false,\n      lock = false,\n      mouse = false\n    } = {}\n  }) {\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch) return 'touch';\n    if (this.pointerLock) return 'mouse';\n    if (SUPPORT.pointer && !mouse) return 'pointer';\n    if (SUPPORT.touch) return 'touch';\n    return 'mouse';\n  },\n  preventScrollAxis(value, _k, {\n    preventScroll\n  }) {\n    this.preventScrollDelay = typeof preventScroll === 'number' ? preventScroll : preventScroll || preventScroll === undefined && value ? DEFAULT_PREVENT_SCROLL_DELAY : undefined;\n    if (!SUPPORT.touchscreen || preventScroll === false) return undefined;\n    return value ? value : preventScroll !== undefined ? 'y' : undefined;\n  },\n  pointerCapture(_v, _k, {\n    pointer: {\n      capture = true,\n      buttons = 1,\n      keys = true\n    } = {}\n  }) {\n    this.pointerButtons = buttons;\n    this.keys = keys;\n    return !this.pointerLock && this.device === 'pointer' && capture;\n  },\n  threshold(value, _k, {\n    filterTaps = false,\n    tapsThreshold = 3,\n    axis = undefined\n  }) {\n    const threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n  swipe({\n    velocity = DEFAULT_SWIPE_VELOCITY,\n    distance = DEFAULT_SWIPE_DISTANCE,\n    duration = DEFAULT_SWIPE_DURATION\n  } = {}) {\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration\n    };\n  },\n  delay(value = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n      case false:\n        return 0;\n      default:\n        return value;\n    }\n  },\n  axisThreshold(value) {\n    if (!value) return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  },\n  keyboardDisplacement(value = DEFAULT_KEYBOARD_DISPLACEMENT) {\n    return value;\n  }\n});\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(dragConfigResolver, {\n    useTouch(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`useTouch\\` option has been renamed to \\`pointer.touch\\`. Use it as in \\`{ pointer: { touch: true } }\\`.`);\n      }\n      return NaN;\n    },\n    experimental_preventWindowScrollY(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`experimental_preventWindowScrollY\\` option has been renamed to \\`preventScroll\\`.`);\n      }\n      return NaN;\n    },\n    swipeVelocity(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeVelocity\\` option has been renamed to \\`swipe.velocity\\`. Use it as in \\`{ swipe: { velocity: 0.5 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDistance(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDistance\\` option has been renamed to \\`swipe.distance\\`. Use it as in \\`{ swipe: { distance: 50 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDuration(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDuration\\` option has been renamed to \\`swipe.duration\\`. Use it as in \\`{ swipe: { duration: 250 } }\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nfunction clampStateInternalMovementToBounds(state) {\n  const [ox, oy] = state.overflow;\n  const [dx, dy] = state._delta;\n  const [dirx, diry] = state._direction;\n  if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n    state._movement[0] = state._movementBound[0];\n  }\n  if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n    state._movement[1] = state._movementBound[1];\n  }\n}\n\nconst SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nconst PINCH_WHEEL_RATIO = 100;\nclass PinchEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'pinching');\n    _defineProperty(this, \"aliasKey\", 'da');\n  }\n  init() {\n    this.state.offset = [1, 0];\n    this.state.lastOffset = [1, 0];\n    this.state._pointerEvents = new Map();\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._touchIds = [];\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n    state.turns = 0;\n  }\n  computeOffset() {\n    const {\n      type,\n      movement,\n      lastOffset\n    } = this.state;\n    if (type === 'wheel') {\n      this.state.offset = V.add(movement, lastOffset);\n    } else {\n      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n    }\n  }\n  computeMovement() {\n    const {\n      offset,\n      lastOffset\n    } = this.state;\n    this.state.movement = [offset[0] / lastOffset[0], offset[1] - lastOffset[1]];\n  }\n  axisIntent() {\n    const state = this.state;\n    const [_m0, _m1] = state._movement;\n    if (!state.axis) {\n      const axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n      if (axisMovementDifference < 0) state.axis = 'angle';else if (axisMovementDifference > 0) state.axis = 'scale';\n    }\n  }\n  restrictToAxis(v) {\n    if (this.config.lockDirection) {\n      if (this.state.axis === 'scale') v[1] = 0;else if (this.state.axis === 'angle') v[0] = 0;\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    setTimeout(() => {\n      state.canceled = true;\n      state._active = false;\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  touchStart(event) {\n    this.ctrl.setEventIds(event);\n    const state = this.state;\n    const ctrlTouchIds = this.ctrl.touchIds;\n    if (state._active) {\n      if (state._touchIds.every(id => ctrlTouchIds.has(id))) return;\n    }\n    if (ctrlTouchIds.size < 2) return;\n    this.start(event);\n    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n    const payload = touchDistanceAngle(event, state._touchIds);\n    if (!payload) return;\n    this.pinchStart(event, payload);\n  }\n  pointerStart(event) {\n    if (event.buttons != null && event.buttons % 2 !== 1) return;\n    this.ctrl.setEventIds(event);\n    event.target.setPointerCapture(event.pointerId);\n    const state = this.state;\n    const _pointerEvents = state._pointerEvents;\n    const ctrlPointerIds = this.ctrl.pointerIds;\n    if (state._active) {\n      if (Array.from(_pointerEvents.keys()).every(id => ctrlPointerIds.has(id))) return;\n    }\n    if (_pointerEvents.size < 2) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (state._pointerEvents.size < 2) return;\n    this.start(event);\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    if (!payload) return;\n    this.pinchStart(event, payload);\n  }\n  pinchStart(event, payload) {\n    const state = this.state;\n    state.origin = payload.origin;\n    this.computeValues([payload.distance, payload.angle]);\n    this.computeInitial();\n    this.compute(event);\n    this.emit();\n  }\n  touchMove(event) {\n    if (!this.state._active) return;\n    const payload = touchDistanceAngle(event, this.state._touchIds);\n    if (!payload) return;\n    this.pinchMove(event, payload);\n  }\n  pointerMove(event) {\n    const _pointerEvents = this.state._pointerEvents;\n    if (_pointerEvents.has(event.pointerId)) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (!this.state._active) return;\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    if (!payload) return;\n    this.pinchMove(event, payload);\n  }\n  pinchMove(event, payload) {\n    const state = this.state;\n    const prev_a = state._values[1];\n    const delta_a = payload.angle - prev_a;\n    let delta_turns = 0;\n    if (Math.abs(delta_a) > 270) delta_turns += Math.sign(delta_a);\n    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n    state.origin = payload.origin;\n    state.turns = delta_turns;\n    state._movement = [state._values[0] / state._initial[0] - 1, state._values[1] - state._initial[1]];\n    this.compute(event);\n    this.emit();\n  }\n  touchEnd(event) {\n    this.ctrl.setEventIds(event);\n    if (!this.state._active) return;\n    if (this.state._touchIds.some(id => !this.ctrl.touchIds.has(id))) {\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  pointerEnd(event) {\n    const state = this.state;\n    this.ctrl.setEventIds(event);\n    try {\n      event.target.releasePointerCapture(event.pointerId);\n    } catch (_unused) {}\n    if (state._pointerEvents.has(event.pointerId)) {\n      state._pointerEvents.delete(event.pointerId);\n    }\n    if (!state._active) return;\n    if (state._pointerEvents.size < 2) {\n      state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  gestureStart(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    if (state._active) return;\n    this.start(event);\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  gestureMove(event) {\n    if (event.cancelable) event.preventDefault();\n    if (!this.state._active) return;\n    const state = this.state;\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    const _previousMovement = state._movement;\n    state._movement = [event.scale - 1, event.rotation];\n    state._delta = V.sub(state._movement, _previousMovement);\n    this.compute(event);\n    this.emit();\n  }\n  gestureEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  wheel(event) {\n    const modifierKey = this.config.modifierKey;\n    if (modifierKey && (Array.isArray(modifierKey) ? !modifierKey.find(k => event[k]) : !event[modifierKey])) return;\n    if (!this.state._active) this.wheelStart(event);else this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelStart(event) {\n    this.start(event);\n    this.wheelChange(event);\n  }\n  wheelChange(event) {\n    const isR3f = ('uv' in event);\n    if (!isR3f) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n      if (process.env.NODE_ENV === 'development' && !event.defaultPrevented) {\n        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \\`target\\` option.\\n\\nThis message will only appear in development mode.`);\n      }\n    }\n    const state = this.state;\n    state._delta = [-wheelValues(event)[1] / PINCH_WHEEL_RATIO * state.offset[0], 0];\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    if (!!device) {\n      bindFunction(device, 'start', this[device + 'Start'].bind(this));\n      bindFunction(device, 'change', this[device + 'Move'].bind(this));\n      bindFunction(device, 'end', this[device + 'End'].bind(this));\n      bindFunction(device, 'cancel', this[device + 'End'].bind(this));\n      bindFunction('lostPointerCapture', '', this[device + 'End'].bind(this));\n    }\n    if (this.config.pinchOnWheel) {\n      bindFunction('wheel', '', this.wheel.bind(this), {\n        passive: false\n      });\n    }\n  }\n}\n\nconst pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device(_v, _k, {\n    shared,\n    pointer: {\n      touch = false\n    } = {}\n  }) {\n    const sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture) return 'gesture';\n    if (SUPPORT.touch && touch) return 'touch';\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer) return 'pointer';\n      if (SUPPORT.touch) return 'touch';\n    }\n  },\n  bounds(_v, _k, {\n    scaleBounds = {},\n    angleBounds = {}\n  }) {\n    const _scaleBounds = state => {\n      const D = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n    const _angleBounds = state => {\n      const A = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n    if (typeof scaleBounds !== 'function' && typeof angleBounds !== 'function') return [_scaleBounds(), _angleBounds()];\n    return state => [_scaleBounds(state), _angleBounds(state)];\n  },\n  threshold(value, _k, config) {\n    this.lockDirection = config.axis === 'lock';\n    const threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n  modifierKey(value) {\n    if (value === undefined) return 'ctrlKey';\n    return value;\n  },\n  pinchOnWheel(value = true) {\n    return value;\n  }\n});\n\nclass MoveEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'moving');\n  }\n  move(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    if (!this.state._active) this.moveStart(event);else this.moveChange(event);\n    this.timeoutStore.add('moveEnd', this.moveEnd.bind(this));\n  }\n  moveStart(event) {\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.computeInitial();\n    this.emit();\n  }\n  moveChange(event) {\n    if (!this.state._active) return;\n    const values = pointerValues(event);\n    const state = this.state;\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  moveEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'change', this.move.bind(this));\n    bindFunction('pointer', 'leave', this.moveEnd.bind(this));\n  }\n}\n\nconst moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nclass ScrollEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'scrolling');\n  }\n  scroll(event) {\n    if (!this.state._active) this.start(event);\n    this.scrollChange(event);\n    this.timeoutStore.add('scrollEnd', this.scrollEnd.bind(this));\n  }\n  scrollChange(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    const values = scrollValues(event);\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  scrollEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('scroll', '', this.scroll.bind(this));\n  }\n}\n\nconst scrollConfigResolver = coordinatesConfigResolver;\n\nclass WheelEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'wheeling');\n  }\n  wheel(event) {\n    if (!this.state._active) this.start(event);\n    this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelChange(event) {\n    const state = this.state;\n    state._delta = wheelValues(event);\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('wheel', '', this.wheel.bind(this));\n  }\n}\n\nconst wheelConfigResolver = coordinatesConfigResolver;\n\nclass HoverEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'hovering');\n  }\n  enter(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.emit();\n  }\n  leave(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    const state = this.state;\n    if (!state._active) return;\n    state._active = false;\n    const values = pointerValues(event);\n    state._movement = state._delta = V.sub(values, state._values);\n    this.computeValues(values);\n    this.compute(event);\n    state.delta = state.movement;\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'enter', this.enter.bind(this));\n    bindFunction('pointer', 'leave', this.leave.bind(this));\n  }\n}\n\nconst hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nconst EngineMap = new Map();\nconst ConfigResolverMap = new Map();\nfunction registerAction(action) {\n  EngineMap.set(action.key, action.engine);\n  ConfigResolverMap.set(action.key, action.resolver);\n}\nconst dragAction = {\n  key: 'drag',\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nconst hoverAction = {\n  key: 'hover',\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nconst moveAction = {\n  key: 'move',\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nconst pinchAction = {\n  key: 'pinch',\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nconst scrollAction = {\n  key: 'scroll',\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nconst wheelAction = {\n  key: 'wheel',\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\n\nexport { ConfigResolverMap as C, EngineMap as E, SUPPORT as S, _objectSpread2 as _, _defineProperty as a, touchIds as b, chain as c, toHandlerProp as d, dragAction as e, pinchAction as f, hoverAction as h, isTouch as i, moveAction as m, parseProp as p, registerAction as r, scrollAction as s, toDomEventType as t, wheelAction as w };\n","import { S as SUPPORT, C as ConfigResolverMap, _ as _objectSpread2, a as _defineProperty, t as toDomEventType, i as isTouch, b as touchIds, E as EngineMap, c as chain, p as parseProp, d as toHandlerProp } from './actions-fe213e88.esm.js';\nimport './maths-0ab39ae9.esm.js';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nconst sharedConfigResolver = {\n  target(value) {\n    if (value) {\n      return () => 'current' in value ? value.current : value;\n    }\n    return undefined;\n  },\n  enabled(value = true) {\n    return value;\n  },\n  window(value = SUPPORT.isBrowser ? window : undefined) {\n    return value;\n  },\n  eventOptions({\n    passive = true,\n    capture = false\n  } = {}) {\n    return {\n      passive,\n      capture\n    };\n  },\n  transform(value) {\n    return value;\n  }\n};\n\nconst _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith(config = {}, resolvers) {\n  const result = {};\n  for (const [key, resolver] of Object.entries(resolvers)) {\n    switch (typeof resolver) {\n      case 'function':\n        if (process.env.NODE_ENV === 'development') {\n          const r = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r)) result[key] = r;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n        break;\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n  return result;\n}\nfunction parse(newConfig, gestureKey, _config = {}) {\n  const _ref = newConfig,\n    {\n      target,\n      eventOptions,\n      window,\n      enabled,\n      transform\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  _config.shared = resolveWith({\n    target,\n    eventOptions,\n    window,\n    enabled,\n    transform\n  }, sharedConfigResolver);\n  if (gestureKey) {\n    const resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (const key in rest) {\n      const resolver = ConfigResolverMap.get(key);\n      if (resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), resolver);\n      } else if (process.env.NODE_ENV === 'development') {\n        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {\n          if (key === 'domTarget') {\n            throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n          }\n          console.warn(`[@use-gesture]: Unknown config key \\`${key}\\` was used. Please read the documentation for further information.`);\n        }\n      }\n    }\n  }\n  return _config;\n}\n\nclass EventStore {\n  constructor(ctrl, gestureKey) {\n    _defineProperty(this, \"_listeners\", new Set());\n    this._ctrl = ctrl;\n    this._gestureKey = gestureKey;\n  }\n  add(element, device, action, handler, options) {\n    const listeners = this._listeners;\n    const type = toDomEventType(device, action);\n    const _options = this._gestureKey ? this._ctrl.config[this._gestureKey].eventOptions : {};\n    const eventOptions = _objectSpread2(_objectSpread2({}, _options), options);\n    element.addEventListener(type, handler, eventOptions);\n    const remove = () => {\n      element.removeEventListener(type, handler, eventOptions);\n      listeners.delete(remove);\n    };\n    listeners.add(remove);\n    return remove;\n  }\n  clean() {\n    this._listeners.forEach(remove => remove());\n    this._listeners.clear();\n  }\n}\n\nclass TimeoutStore {\n  constructor() {\n    _defineProperty(this, \"_timeouts\", new Map());\n  }\n  add(key, callback, ms = 140, ...args) {\n    this.remove(key);\n    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));\n  }\n  remove(key) {\n    const timeout = this._timeouts.get(key);\n    if (timeout) window.clearTimeout(timeout);\n  }\n  clean() {\n    this._timeouts.forEach(timeout => void window.clearTimeout(timeout));\n    this._timeouts.clear();\n  }\n}\n\nclass Controller {\n  constructor(handlers) {\n    _defineProperty(this, \"gestures\", new Set());\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n    _defineProperty(this, \"gestureEventStores\", {});\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n    _defineProperty(this, \"handlers\", {});\n    _defineProperty(this, \"config\", {});\n    _defineProperty(this, \"pointerIds\", new Set());\n    _defineProperty(this, \"touchIds\", new Set());\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n    resolveGestures(this, handlers);\n  }\n  setEventIds(event) {\n    if (isTouch(event)) {\n      this.touchIds = new Set(touchIds(event));\n      return this.touchIds;\n    } else if ('pointerId' in event) {\n      if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);\n      return this.pointerIds;\n    }\n  }\n  applyHandlers(handlers, nativeHandlers) {\n    this.handlers = handlers;\n    this.nativeHandlers = nativeHandlers;\n  }\n  applyConfig(config, gestureKey) {\n    this.config = parse(config, gestureKey, this.config);\n  }\n  clean() {\n    this._targetEventStore.clean();\n    for (const key of this.gestures) {\n      this.gestureEventStores[key].clean();\n      this.gestureTimeoutStores[key].clean();\n    }\n  }\n  effect() {\n    if (this.config.shared.target) this.bind();\n    return () => this._targetEventStore.clean();\n  }\n  bind(...args) {\n    const sharedConfig = this.config.shared;\n    const props = {};\n    let target;\n    if (sharedConfig.target) {\n      target = sharedConfig.target();\n      if (!target) return;\n    }\n    if (sharedConfig.enabled) {\n      for (const gestureKey of this.gestures) {\n        const gestureConfig = this.config[gestureKey];\n        const bindFunction = bindToProps(props, gestureConfig.eventOptions, !!target);\n        if (gestureConfig.enabled) {\n          const Engine = EngineMap.get(gestureKey);\n          new Engine(this, args, gestureKey).bind(bindFunction);\n        }\n      }\n      const nativeBindFunction = bindToProps(props, sharedConfig.eventOptions, !!target);\n      for (const eventKey in this.nativeHandlers) {\n        nativeBindFunction(eventKey, '', event => this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, this.state.shared), {}, {\n          event,\n          args\n        })), undefined, true);\n      }\n    }\n    for (const handlerProp in props) {\n      props[handlerProp] = chain(...props[handlerProp]);\n    }\n    if (!target) return props;\n    for (const handlerProp in props) {\n      const {\n        device,\n        capture,\n        passive\n      } = parseProp(handlerProp);\n      this._targetEventStore.add(target, device, '', props[handlerProp], {\n        capture,\n        passive\n      });\n    }\n  }\n}\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl, gestureKey);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag) setupGesture(ctrl, 'drag');\n  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');\n  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');\n  if (internalHandlers.move) setupGesture(ctrl, 'move');\n  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');\n  if (internalHandlers.hover) setupGesture(ctrl, 'hover');\n}\nconst bindToProps = (props, eventOptions, withPassiveOption) => (device, action, handler, options = {}, isNative = false) => {\n  var _options$capture, _options$passive;\n  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n  let handlerProp = isNative ? device : toHandlerProp(device, action, capture);\n  if (withPassiveOption && passive) handlerProp += 'Passive';\n  props[handlerProp] = props[handlerProp] || [];\n  props[handlerProp].push(handler);\n};\n\nconst RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\nfunction sortHandlers(_handlers) {\n  const native = {};\n  const handlers = {};\n  const actions = new Set();\n  for (let key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n  return [handlers, native, actions];\n}\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey)) return;\n  if (!EngineMap.has(key)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \\`${key}\\` gesture but isn't properly configured.\\n\\nPlease add \\`${key}Action\\` when creating your handler.`);\n    }\n    return;\n  }\n  const startKey = handlerKey + 'Start';\n  const endKey = handlerKey + 'End';\n  const fn = state => {\n    let memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);\n  const internalHandlers = {};\n  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers\n  };\n}\n\nexport { Controller, parseMergedHandlers };\n","import { registerAction, dragAction, pinchAction, wheelAction, scrollAction, moveAction, hoverAction } from '@use-gesture/core/actions';\nexport * from '@use-gesture/core/actions';\nimport React from 'react';\nimport { Controller, parseMergedHandlers } from '@use-gesture/core';\nexport * from '@use-gesture/core/utils';\nexport * from '@use-gesture/core/types';\n\nfunction useRecognizers(handlers, config = {}, gestureKey, nativeHandlers) {\n  const ctrl = React.useMemo(() => new Controller(handlers), []);\n  ctrl.applyHandlers(handlers, nativeHandlers);\n  ctrl.applyConfig(config, gestureKey);\n  React.useEffect(ctrl.effect.bind(ctrl));\n  React.useEffect(() => {\n    return ctrl.clean.bind(ctrl);\n  }, []);\n  if (config.target === undefined) {\n    return ctrl.bind.bind(ctrl);\n  }\n  return undefined;\n}\n\nfunction useDrag(handler, config) {\n  registerAction(dragAction);\n  return useRecognizers({\n    drag: handler\n  }, config || {}, 'drag');\n}\n\nfunction usePinch(handler, config) {\n  registerAction(pinchAction);\n  return useRecognizers({\n    pinch: handler\n  }, config || {}, 'pinch');\n}\n\nfunction useWheel(handler, config) {\n  registerAction(wheelAction);\n  return useRecognizers({\n    wheel: handler\n  }, config || {}, 'wheel');\n}\n\nfunction useScroll(handler, config) {\n  registerAction(scrollAction);\n  return useRecognizers({\n    scroll: handler\n  }, config || {}, 'scroll');\n}\n\nfunction useMove(handler, config) {\n  registerAction(moveAction);\n  return useRecognizers({\n    move: handler\n  }, config || {}, 'move');\n}\n\nfunction useHover(handler, config) {\n  registerAction(hoverAction);\n  return useRecognizers({\n    hover: handler\n  }, config || {}, 'hover');\n}\n\nfunction createUseGesture(actions) {\n  actions.forEach(registerAction);\n  return function useGesture(_handlers, _config) {\n    const {\n      handlers,\n      nativeHandlers,\n      config\n    } = parseMergedHandlers(_handlers, _config || {});\n    return useRecognizers(handlers, config, undefined, nativeHandlers);\n  };\n}\n\nfunction useGesture(handlers, config) {\n  const hook = createUseGesture([dragAction, pinchAction, scrollAction, wheelAction, moveAction, hoverAction]);\n  return hook(handlers, config || {});\n}\n\nexport { createUseGesture, useDrag, useGesture, useHover, useMove, usePinch, useScroll, useWheel };\n","import * as React from \"react\"\nimport {Component, useState, useEffect} from \"react\"\nimport { Link } from \"gatsby\"\nimport { useDrag } from '@use-gesture/react'\n\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport \"../components/lis.css\"\nimport { animated, SpringValue, useSprings } from '@react-spring/web'\nimport { faJournalWhills } from \"@fortawesome/free-solid-svg-icons\"\nimport { elements } from \"chart.js\";\n\n\nconst matToString = (mat) => {\n  var n = mat.length;\n  var newMatVal = \"[\";\n      for (var i = 0; i < n; i++) {\n        var t = []\n        for (var j = 0; j < n; j++) {\n          t.push(mat[i][j].toFixed(1))\n        }\n        newMatVal += \"[\" + t.join(', ') + \"],\\n\"\n      }\n      newMatVal += \"]\"\n  return newMatVal;\n}\n\nconst MarkovPage = () => {\n  const [mat, setMat] = useState([\n    [0.6, 0.4, 0, 0],\n    [0, 0, 0.6, 0.4],\n    [0.7, 0.3, 0, 0],\n    [0, 0, 0.2, 0.8]]);\n  const [childKey, setChildKey] = useState(0);\n  const [matval, setMatVal] = useState(`[[0.6, 0.4, 0.0, 0.0],\n[0.0, 0.0, 0.6, 0.4],\n[0.7, 0.3, 0.0, 0.0],\n[0.0, 0.0, 0.2, 0.8]]`);\n  const [parseOk, setParseOk] = useState(true);\n  const [errMsg, setErrMsg] = useState(\"\");\n  const [stateLabels, setStateLabels] = useState([\"0\", \"1\", \"2\", \"3\"]);\n  const [stateLabelStr, setStateLabelStr] = useState(`[\"0\", \"1\", \"2\", \"3\"]`);\n\n  const checkMatrixAndSetErrorState = (t) => {\n    if (!(t instanceof Array)) {\n      setParseOk(false)\n      setErrMsg(\"Not an array\")\n      return false\n    }\n    var someRowLargerThanOne = false;\n    for (var i = 0; i < t.length; i++) {\n      \n      if (!(t[i] instanceof Array)) {\n        setParseOk(false)\n        setErrMsg(\"Not a 2D array\")\n        return false\n      }\n  \n      if (!(t[i].length === t.length)) {\n        setParseOk(false)\n        setErrMsg(\"The transition matrix is not a square matrix.\")\n        return false\n      }\n  \n      var sumv = 0;\n      for (var j = 0; j< t.length; j++) {\n        sumv += t[i][j]\n      }\n      if (sumv > 1.0) {\n        someRowLargerThanOne = true;\n      }\n    }\n    if (someRowLargerThanOne) {\n      setParseOk(false)\n      setErrMsg(\"Some row has larger than 1 total probability.\")\n    } else {\n      setParseOk(true);\n      setErrMsg(\"\");\n    }\n    return true;\n  }\n\n\n  var isAbsorbing = false;\n  var isLeaking = false;\n  for (var i = 0; i < mat.length; i++) {\n    var sumv = 0;\n    for (var j = 0; j < mat.length; j++) sumv += mat[i][j];\n    if (sumv < 1.0) { isAbsorbing = true; isLeaking = true; }\n    if (mat[i][i] === 1.0) isAbsorbing = true;\n  }\n\n  return (\n  <Layout>\n    <h1>Markov Chains</h1>\n    \n    <label htmlFor=\"TransitionMatrix\">Transition Matrix</label>\n<br/>\n    <textarea\n      rows={8}\n      id=\"TransitionMatrix\"\n      style={{backgroundColor: (parseOk? \"#FFF\": \"#FDD\")}}\n      value={matval} onChange={(e)=>{\n        setMatVal(e.target.value)\n      try {\n        var p = e.target.value\n        var t = eval(p)\n      } catch (err) {\n        setParseOk(false);\n        setErrMsg(\"Syntax Error\");\n        return;\n      }\n      var checkResult = checkMatrixAndSetErrorState(t)\n      if (!checkResult) return;\n\n      setMat((t_prev) => {\n        if (t_prev.length !== t.length) {\n          setChildKey(prev => prev + 1);\n        }\n        return t\n      })\n    }}></textarea>\n    <br/>\n    <label htmlFor=\"StateLabels\">State Labels</label><br/>\n    <input id=\"StateLabels\"\n    value={stateLabelStr} onChange={(e)=>{\n      setStateLabelStr(e.target.value)\n      try {\n      var t = eval(e.target.value)\n      setStateLabels(t)\n      } catch (err) {\n      }\n    }} style={{fontSize:\"100%\", fontFamily:\"monospace\", width:\"100%\"}} />\n    <div style={{color: \"#F55\"}}>{errMsg}</div>\n    <button onClick={(e) => {\n      var newMat = JSON.parse(JSON.stringify(mat))\n      var n = mat.length;\n      for (var i = 0; i < n; i++) {\n        newMat[i].push(0.0);\n      }\n      newMat.push(Array.from({length: n+1}, (v, i) => 0))\n      setMat(newMat)\n      var newMatVal = matToString(newMat)\n      setMatVal(newMatVal)\n      setChildKey(prev => prev+1)\n    }}>+ State</button>\n    <button onClick={(e)=> {\n      var newMat = JSON.parse(JSON.stringify(mat))\n      var n = mat.length;\n      for (var i = 0; i < n; i++) {\n        newMat[i].pop();\n      }\n      newMat.pop();\n      setMat(newMat)\n      var newMatVal = matToString(newMat)\n      setMatVal(newMatVal)\n      setChildKey(prev => prev+1)\n    }}>- State</button>\n    <button onClick={(e)=>{\n      var newMat = JSON.parse(JSON.stringify(mat))\n      var n = mat.length;\n      for (var i = 0; i < n; i++) {\n        var sumv = 0;\n        for (var j = 0; j < n; j++) {\n          sumv += newMat[i][j];\n        }\n        if (sumv > 0) {\n          for (var j = 0; j < n; j++) {\n            newMat[i][j] /= sumv;\n          }\n        }\n      }\n      setMat(newMat)\n      var newMatVal = matToString(newMat)\n      setMatVal(newMatVal)\n\n      if (!checkMatrixAndSetErrorState(newMat)) { console.log(\"HERE\"); return; }\n      setChildKey(prev => prev+1)\n    }}>Normalize Rows</button>\n    <div>\n    <button onClick={(e)=>{\n      var newMat = [[0.5, 0.5], [0, 1]];\n      setStateLabels([\"start\", \"H\"])\n      setStateLabelStr(`[\"start\", \"H\"]`)\n      setMat(newMat)\n      var newMatVal = matToString(newMat)\n      setMatVal(newMatVal)\n      setChildKey(prev => prev+1)\n    }}>Example 1: Toss Coin Until See H.</button>\n    <button onClick={(e)=>{\n      var newMat = [[0.5, 0.5, 0], [0.5, 0, 0.5], [0, 0, 1.0]];\n      setStateLabels([\"start\", \"H\", \"HH\"])\n      setStateLabelStr(`[\"start\", \"H\", \"HH\"]`)\n      setMat(newMat)\n      var newMatVal = matToString(newMat)\n      setMatVal(newMatVal)\n      setChildKey(prev => prev+1)\n    }}>Example 2: Toss Coin Until See HH.</button>\n    <button onClick={(e)=>{\n      var newMat = [[0, 0.5, 0.2, 0.3], [0, 0.5, 0.3, 0.2], [0, 0.5, 0.2, 0.3], [0, 0, 0, 1]];\n      setStateLabels([\"start\", \"odd\", \"even\", \"done\"])\n      setStateLabelStr(`[\"start\", \"odd\", \"even\", \"done\"]`)\n      setMat(newMat)\n      var newMatVal = matToString(newMat)\n      setMatVal(newMatVal)\n      setChildKey(prev => prev+1)\n    }}>Example 3: Generate Digits Until Multiple of 4.</button>\n    <button onClick={(e)=>{\n      var newMat = [[0.3, 0.7], [0.7, 0.3]];\n      setStateLabels([\"0\", \"1\"])\n      setStateLabelStr(`[\"0\", \"1\"]`)\n      setMat(newMat)\n      var newMatVal = matToString(newMat)\n      setMatVal(newMatVal)\n      setChildKey(prev => prev+1)\n    }}>Example 4: Rainfall</button>\n    </div>\n    <div>\n      <h2>{isAbsorbing? \"Simulation (Absorbing Chain)\" : \"Simulation\"}</h2>\n      <Simulator key={childKey} mat={mat} lbls={stateLabels} absorbing={isAbsorbing} leaking={isLeaking} />\n    </div>\n    <div style={{display: \"absolute\"}}>\n      <StateDiagram key={childKey} mat={mat} lbls={stateLabels} />\n    </div>\n  </Layout>\n)};\n\nconst Simulator = ({mat, lbls, absorbing, leaking}) => {\n  const n = mat.length + (leaking? 1 : 0);\n  const [start, setStart] = useState(0);\n  const [isSimulating, setIsSimulating] = useState(false);\n  const [currentState, setCurrentState] = useState(0);\n  const [stepCount, setStepCount] = useState(0);\n  const [roundCount, setRoundCount] = useState(0);\n  const [statInRound, setStatInRound] = useState(Array.from({length: n}, (v, i)=> 0));\n  const [statAbsorbing, setStatAbsorbing] = useState(Array.from({length: n}, (v, i)=> 0));\n  const [totalStepCount, setTotalStepCount] = useState(0);\n  const [averageSteps, setAverageSteps] = useState(0);\n\n  const resetAll = () => {\n    setTotalStepCount(0);\n    setIsSimulating(false);\n    setCurrentState(start);\n    setStepCount(0);\n    setRoundCount(0);\n    setStatInRound(Array.from({length: n}, ()=> 0));\n    setStatAbsorbing(Array.from({length: n}, ()=> 0));\n    setTotalStepCount(0);\n    setAverageSteps(0);\n  }\n\n\n  useEffect(() => {\n    if (isSimulating) {\n      var n = mat.length;\n      if (currentState === n || mat[currentState][currentState] === 1.0) {\n        // absorbing.\n        setStatAbsorbing(s => {\n          var t = [...s]\n          t[currentState] += 1\n          return t\n        })\n        setRoundCount(prev => prev+1);\n        setAverageSteps((totalStepCount / (roundCount + 1)).toFixed(5));\n        setTotalStepCount(prev => prev + stepCount)\n        setStepCount(0);\n        var s = Array.from({length: mat.length + (leaking? 1: 0)}, (v, i)=> 0)\n        setStatInRound(s);\n        setCurrentState(start);\n        return;\n      }\n\n      var p = Math.random();\n      var n = mat.length;\n      var nxtState = n;\n      for (var j = 0; j < n; j++) {\n        if (p < mat[currentState][j]) {\n          nxtState = j;\n          break;\n        } else {\n          p -= mat[currentState][j];\n        }\n      }\n      setCurrentState(nxtState);\n      setStepCount(prev => prev+1);\n      setStatInRound(s => {\n        var t = [...s]\n        t[currentState] += 1\n        return t\n      })\n    }\n  }, [stepCount, totalStepCount, isSimulating]);\n\n\n  \n  var sumv = stepCount;\n  return (<>\n  <div style={{margin: \"5px\"}}>\n  <button onClick={()=>setIsSimulating((on) => !on)}>Go / Pause</button>\n  <button onClick={()=>resetAll()}>Reset</button>\n  </div>\n  {absorbing && (<div>Round: <tt>{roundCount}</tt>  (Average Steps: {averageSteps})</div>)}\n  <div>Step: {stepCount}</div>\n  <div className=\"markov-sim-result\">\n    <table>\n      <thead>\n      <tr>\n        <td></td>\n        {statInRound.map((v, i) => (<th key={i}>{lbls[i]||\"?\"}</th>))}\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <th>Step Count</th>\n        {statInRound.map((v, i) => (<td key={i}>{v}</td>))}\n      </tr>\n      <tr>\n        <th>Step Ratio</th>\n        {statInRound.map((v, i) => (<td key={i}>{(v/sumv).toFixed(5)}</td>))}\n      </tr>\n      {absorbing && \n      (<tr>\n        <th>Absorbing Count</th>\n        {statAbsorbing.map((v, i) => (<td key={i}>{v}</td>))}\n      </tr>\n      )\n      }\n      </tbody>\n    </table>\n  </div>\n  </>)\n}\n\nexport const Head = () => <Seo title=\"Page two\" />\n\nexport default MarkovPage\n\nconst make_path = (x, y) => `M ${x-25},${y}\na 25,25 0 1,1 50, 0\na 25,25 0 1 ,1 -50, 0\n`;\nconst make_curve = (val, isloop, ax, ay, bx, by) => {\n  //if (val === 0) return ``;\n  var r = 25;\n  var theta=25*Math.PI/180;\n  if (isloop) {\n    var aax = ax+r*Math.cos(Math.PI/2-theta)\n    var aay = ay-r*Math.sin(Math.PI/2-theta)\n    var bbx = bx+r*Math.cos(Math.PI/2+theta)\n    var bby = by-r*Math.sin(Math.PI/2+theta)\n\n    var x1 = ax + r * 4.5 * Math.cos(Math.PI/2-theta);\n    var y1 = ay - r * 4.5 * Math.sin(Math.PI/2-theta);\n    var x2 = ax + r * 4.5 * Math.cos(Math.PI/2+theta);\n    var y2 = ay - r * 4.5 * Math.sin(Math.PI/2+theta);\n    \n    return `M ${aax} ${aay}\n    C ${x1} ${y1}, ${x2} ${y2}, ${bbx} ${bby} \n    L ${bbx + r/2*Math.cos(Math.PI/2)} ${bby - r/2*Math.sin(Math.PI/2)}\n    M ${bbx} ${bby}\n    L ${bbx + r/2*Math.cos(Math.PI/2 + 2*theta)} ${bby - r/2*Math.sin(Math.PI/2+2*theta)}`;\n  } else {\n\n    var mx = (ax + bx) / 2;\n    var my = (ay + by) / 2;\n    var tx = - (by - ay) / 2 * Math.sin(1.2*theta);\n    var ty = + (bx - ax) / 2 * Math.sin(1.2*theta);\n\n    var t0 = Math.atan2(-(by - ay), bx - ax);\n    var aax = ax+r*Math.cos(t0 - theta);\n    var aay = ay-r*Math.sin(t0 - theta);\n    var bbx = bx+r*Math.cos(t0 + theta + Math.PI);\n    var bby = by-r*Math.sin(t0 + theta + Math.PI);\n\n    // M ${ax} ${ay} L ${bx} ${by}\n    return `M ${aax} ${aay} \n    Q ${mx+tx} ${my+ty}, ${bbx} ${bby}\n    L ${bbx - r/2*Math.cos(t0)} ${bby + r/2*Math.sin(t0)}\n    M ${bbx} ${bby}\n    L ${bbx - r/2*Math.cos(t0 + 2*theta)} ${bby + r/2*Math.sin(t0 + 2*theta)}\n    `;\n  }\n}\n\nconst StateDiagram = ({mat, lbls}) => {\n  var n = mat.length;\n  var [coords, api] = useSprings(n, (i) => ({\n      x: 50 + i * 600/n,\n      y: 100,\n      d: make_path(50 + i * 600/n, 100)\n  }), [mat.length])\n  var [edges, api2] = useSprings(n*n, (eid) => {\n    var i = Math.floor(eid / n);\n    var j = eid % n;\n    var val = mat[i][j];\n\n    return {\n      val: val,\n      stroke: `rgba(48, 48, 48, ${val})`,\n      d: make_curve(val, i===j,\n        coords[i].x.get(),\n        coords[i].y.get(),\n        coords[j].x.get(),\n        coords[j].y.get())\n    }\n  }, [coords])\n\n  const fn = (targetIdx, nx, ny, nd, down) => (i) => (\n    i === targetIdx\n    ? {\n        x: nx,\n        y: ny,\n        d: nd,\n        immediate: down\n      }\n    : {\n        x: coords[i].x.goal,\n        y: coords[i].y.goal,\n        d: coords[i].d.goal,\n        immediate: down\n      }\n  );\n\n  const fn2 = (targetIdx, nx, ny, down) =>\n  (eid) => {\n    var i = Math.floor(eid / n);\n    var j = eid % n;\n    var val = mat[i][j];\n    \n    return {\n      val: val,\n      stroke: `rgba(48, 48, 48, ${val})`,\n      d: make_curve(val, i===j,\n        (i===targetIdx? nx : coords[i].x.goal),\n        (i===targetIdx? ny : coords[i].y.goal),\n        (j===targetIdx? nx : coords[j].x.goal),\n        (j===targetIdx? ny : coords[j].y.goal)),\n      immediate: down,\n    }\n  };\n\n  var [lastEventTime, setLastEventTime] = useState(0);\n  var bind = useDrag((e) => {\n    var i = e.args[0]\n    var down = e.down\n    var mx = e.delta[0]\n    var my = e.delta[1]\n    if (mx === 0 && my === 0) return;\n    var nx = coords[i].x.goal + mx \n    var ny = coords[i].y.goal + my\n    var nd = make_path(nx, ny)\n    api.start(fn(i, nx, ny, nd, down))\n    api2.start(fn2(i, nx, ny, down))\n  });\n\n\n  \n  var objs = []\n  for (var eid = 0; eid < n * n; eid++) {\n    var d = edges[eid].d\n    var stroke = edges[eid].stroke\n    objs.push((\n      <g key={n+eid}>\n        <animated.path d={d}\n        stroke={stroke} strokeWidth=\"5px\" \n        strokeLinecap=\"round\"\n        fill=\"none\" \n        />\n      </g>\n    ))\n  }\n  for (var i = 0; i < n; i++) {\n    var x = coords[i].x\n    var y = coords[i].y\n    var d = coords[i].d\n    //coords.map(({ x, y, d }, i) => \n    objs.push((\n    <g key={i}><animated.path d={d}\n    stroke=\"#333\" strokeWidth=\"5px\" \n    fill={mat[i][i] === 1.0? \"#FCC\":\"#FFF\"}\n    {...bind(i)}\n    />\n    <animated.text x={x} y={y} className=\"svgtext\" dominantBaseline=\"middle\" textAnchor=\"middle\" style={{fontSize:\"150%\",\n     pointerEvents: \"none\"}}\n    >{lbls[i]||i}</animated.text>\n    </g>\n    ));\n    }\n  \n  return (\n    <svg width=\"100%\" height=\"400\" viewBox=\"0 0 600 400\">\n      {objs}\n    </svg>\n  );\n}\n"],"names":["V","toVector","v","fallback","undefined","Array","isArray","add","v1","v2","sub","addTo","subTo","rubberband","distance","dimension","constant","Math","abs","Infinity","pow","rubberbandIfOutOfBounds","position","min","max","clamp","_toPropertyKey","arg","key","input","hint","prim","Symbol","toPrimitive","res","call","TypeError","String","Number","_toPrimitive","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","EVENT_TYPE_MAP","pointer","start","change","end","mouse","touch","gesture","capitalize","string","toUpperCase","slice","actionsWithoutCaptureSupported","toHandlerProp","device","action","capture","deviceProps","actionKey","includes","hasCapture","pointerCaptureEvents","parseProp","prop","eventKey","substring","toLowerCase","passive","indexOf","replace","captureKey","isTouch","event","getPointerType","pointerType","getValueEvent","type","changedTouches","targetTouches","getTouchList","touchIds","from","touches","_event$currentTarget","_event$currentTarget$","target","currentTarget","contains","getCurrentTargetTouchList","map","identifier","pointerId","valueEvent","pointerValues","clientX","clientY","args","noop","chain","fns","result","fn","this","assignDefault","assign","Engine","constructor","ctrl","state","computeValues","computeInitial","init","reset","shared","eventStore","gestureEventStores","timeoutStore","gestureTimeoutStores","config","sharedConfig","handler","handlers","ingKey","_active","active","_blocked","_force","_step","intentional","_movement","_distance","_direction","_delta","_bounds","axis","memo","elapsedTime","timeDelta","direction","overflow","_movementBound","velocity","movement","delta","timeStamp","lastOffset","offset","startTime","values","_values","transform","_initial","initial","compute","dt","preventDefault","cancelable","pointerIds","size","locked","document","pointerLockElement","payload","buttons","shiftKey","altKey","metaKey","ctrlKey","getEventDetails","down","pressed","_absoluteDelta","axisIntent","_m0","_m1","t0","t1","threshold","hasCustomTransform","sign","v0","restrictToAxis","previousOffset","gestureIsActive","first","last","bounds","setup","computeOffset","ox","oy","x0","x1","y0","y1","Vx","Vy","Rx","Ry","X0","X1","Y0","Y1","computeRubberband","computeMovement","absoluteDelta","emit","clean","triggerAllEvents","aliasKey","CoordinatesEngine","super","axisThreshold","dx","dy","absDx","absDy","selectAxis","lockDirection","identity","commonConfigResolver","enabled","eventOptions","_k","coordinatesConfigResolver","_v","current","HTMLElement","left","right","top","bottom","KEYS_DELTA_MAP","ArrowRight","displacement","factor","ArrowLeft","ArrowUp","ArrowDown","isBrowser","window","createElement","supportsTouchEvents","SUPPORT","GestureEvent","supportsGestureEvents","touchscreen","navigator","maxTouchPoints","pointerLock","DEFAULT_DRAG_AXIS_THRESHOLD","pen","dragConfigResolver","lock","preventScrollAxis","preventScroll","preventScrollDelay","pointerCapture","pointerButtons","filterTaps","tapsThreshold","swipe","duration","delay","keyboardDisplacement","scaleBounds","angleBounds","_scaleBounds","D","_angleBounds","A","modifierKey","pinchOnWheel","mouseOnly","Map","ConfigResolverMap","engine","_pointerId","_pointerActive","_keyboardActive","_preventScroll","_delayed","tap","canceled","cancel","bind","boundRect","getBoundingClientRect","targetRect","setTimeout","setActive","pointerClean","pointerDown","ctrlIds","setEventIds","setPointerCapture","setupPointer","setupScrollPrevention","setupDelayTrigger","startPointerDrag","pointerMove","id","movementX","movementY","remove","pointerUp","hasPointerCapture","releasePointerCapture","_unused","_dx","_dy","_mx","_my","svx","svy","sx","sy","sdt","_vx","_vy","pointerClick","detail","stopPropagation","requestPointerLock","exitPointerLock","persist","persistEvent","keyDown","deltaFn","keyUp","bindFunction","resolver","_objectWithoutProperties","source","excluded","i","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","prototype","propertyIsEnumerable","sharedConfigResolver","_excluded","resolveWith","resolvers","entries","EventStore","gestureKey","Set","_ctrl","_gestureKey","element","options","listeners","_listeners","toDomEventType","addEventListener","removeEventListener","delete","clear","TimeoutStore","callback","ms","_timeouts","set","timeout","get","clearTimeout","Controller","internalHandlers","drag","setupGesture","wheel","scroll","move","pinch","hover","resolveGestures","applyHandlers","nativeHandlers","applyConfig","newConfig","_config","_ref","rest","parse","_targetEventStore","gestures","effect","props","gestureConfig","bindToProps","nativeBindFunction","handlerProp","withPassiveOption","isNative","_options$capture","_options$passive","useRecognizers","useDrag","matToString","mat","n","newMatVal","j","toFixed","join","MarkovPage","setMat","useState","childKey","setChildKey","matval","setMatVal","parseOk","setParseOk","errMsg","setErrMsg","stateLabels","setStateLabels","stateLabelStr","setStateLabelStr","checkMatrixAndSetErrorState","someRowLargerThanOne","sumv","isAbsorbing","isLeaking","htmlFor","rows","style","backgroundColor","onChange","p","eval","err","checkResult","t_prev","prev","fontSize","fontFamily","width","color","onClick","newMat","JSON","stringify","pop","console","log","Simulator","lbls","absorbing","leaking","display","StateDiagram","setStart","isSimulating","setIsSimulating","currentState","setCurrentState","stepCount","setStepCount","roundCount","setRoundCount","statInRound","setStatInRound","statAbsorbing","setStatAbsorbing","totalStepCount","setTotalStepCount","averageSteps","setAverageSteps","useEffect","s","random","nxtState","margin","on","className","Head","title","make_path","x","y","make_curve","val","isloop","ax","ay","bx","by","theta","PI","aax","cos","aay","sin","bbx","bby","mx","my","tx","ty","atan2","coords","api","useSprings","d","edges","api2","eid","floor","stroke","lastEventTime","setLastEventTime","nx","goal","ny","nd","targetIdx","immediate","fn2","objs","strokeWidth","strokeLinecap","fill","dominantBaseline","textAnchor","pointerEvents","height","viewBox"],"sourceRoot":""}