{"version":3,"file":"component---src-pages-lis-3-js-8c805ab2336bad9a1ed8.js","mappings":"8OAYA,MAsBaA,EAAO,IAAM,gBAAC,IAAG,CAACC,MAAM,aAErC,UAxBmB,KAGjB,MAAM,EAACC,EAAK,EAACC,IAAWC,EAAAA,EAAAA,UAAS,CAAC,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,KAWxD,OACA,gBAAC,IAAM,KACL,2CACA,0BAAQC,SAZY,KAEpB,IADA,IAAIC,EAAI,GACCC,EAAI,EAAGA,EAAI,GAAIA,IAAKD,EAAEE,KAAKD,EAAE,GACtC,IAASA,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAIE,EAAIC,KAAKC,MAAMD,KAAKE,UAAY,GAAKL,IAAMA,GAC9CD,EAAEC,GAAID,EAAEG,IAAM,CAACH,EAAEG,GAAIH,EAAEC,GAC1B,CACAJ,EAAQG,EAAE,GAKqBO,UAAK,IAAM,wBAC1C,gBAACC,EAAO,CAACC,EAAG,GAAIb,KAAMA,IACf,EAKc,IAEnBY,EAAO,2CA+BX,WAAYE,GAAQ,IAAD,EACjB,cAAMA,IAAM,KACJA,EAAMd,KAAKe,OAAnB,IACIF,EAAIC,EAAMD,EACd,EAAKG,MAAM,CACTC,SAAS,GAYX,EAAKC,SAAW,CAAC,EACjB,IAAI,IAAIb,EAAE,EAAEA,GAAGQ,EAAER,IACjB,IAAI,IAAIE,EAAE,EAAEA,GAAGM,EAAEN,IAAK,EAAKW,SAAS,CAACb,EAAEE,IAAM,IAAIY,EAAAA,GAAY,oBAAoB,QACnF,CA2FC,OA9IU,EAGXC,iBAAA,SAAiBC,EAAMrB,GAKrB,IAJA,IAAIsB,EAAItB,EAAKe,OACTQ,EAAM,GACNC,EAAM,CAAC,EACPC,EAAQ,CAAC,EACLpB,EAAE,EAAEA,EAAEiB,EAAEjB,IACdoB,EAAMpB,GAAG,EACTmB,EAAInB,GAAKA,EAEX,IAASA,EAAI,EAAGA,EAAIgB,EAAMhB,IACxB,GAAmB,IAAfkB,EAAIR,QAAgBf,EAAKuB,EAAIA,EAAIR,OAAO,IAAMf,EAAKK,GACrDkB,EAAIjB,KAAKD,GACTmB,EAAInB,GAAKkB,EAAIR,OAAO,EACpBU,EAAMpB,GAAK,OAEX,IAAK,IAAIE,EAAI,EAAGA,EAAIgB,EAAIR,OAAQR,IAC9B,GAAIP,EAAKuB,EAAIhB,KAAOP,EAAKK,GAAI,CAC3BoB,EAAMpB,GAAKoB,EAAMF,EAAIhB,IAAI,EACzBgB,EAAIhB,GAAKF,EACTmB,EAAInB,GAAKE,EACT,KACF,CAIN,MAAO,CAACgB,IAAKA,EAAKC,IAAKA,EAAKC,MAAOA,EACrC,EAsBC,EAEDC,WAAA,WACE,IAAIV,EAAQ,IAAIW,KAAKX,OACrBA,EAAMC,SAAWD,EAAMC,QACvBU,KAAKC,SAASZ,EAChB,EAAC,EAEDa,UAAA,SAAU7B,GAER,IADA,IAAIuB,EAAI,GACAlB,EAAE,EAAEA,EAAEL,EAAKe,OAAOV,IACxB,GAAgB,IAAbkB,EAAIR,QAAcQ,EAAIA,EAAIR,OAAO,GAAGf,EAAKK,GAAIkB,EAAIjB,KAAKN,EAAKK,SAE5D,IAAI,IAAIE,EAAE,EAAEA,EAAEP,EAAKe,OAAOR,IACxB,GAAGgB,EAAIhB,IAAMP,EAAKK,GAAI,CACpBkB,EAAIhB,GAAKP,EAAKK,GACd,KACF,CAIN,OAAOkB,EAAIR,MACb,EAAC,EAEDe,OAAA,WACE,MAAM9B,EAAO2B,KAAKb,MAAMd,KAClBsB,EAAItB,EAAKe,OACTF,EAAIc,KAAKb,MAAMD,EAKrB,IAFA,IAAIkB,EAAO,CAAC,EACRC,EAAU,GACN3B,EAAE,EAAEA,GAAGQ,EAAER,IACf,IAAI,IAAIE,EAAEF,EAAEE,GAAGM,EAAEN,IAAK,CAEpB,IADA,IAAI0B,EAAI,GACAC,EAAE,EAAEA,EAAEZ,EAAEY,IAAQlC,EAAKkC,IAAI7B,EAAE,GAAKL,EAAKkC,IAAI3B,GAC/C0B,EAAE3B,KAAKN,EAAKkC,IAEd,IAAIC,EAAIR,KAAKE,UAAUI,IAEI,IAAvBN,KAAKX,MAAMC,SACbc,EAAK,CAAC1B,EAAEE,IAAM4B,EACdR,KAAKT,SAAS,CAACb,EAAEE,IAAI6B,MAAM,aAAe,GAAG,IAAUvB,EAAEsB,GAAGtB,GAAC,MAAK,GAAG,IAAUA,EAAEsB,GAAGtB,GAAC,QAErFsB,EAAK9B,GAAGE,EAAGA,EAAEF,EAAE8B,EAAI,EACnBJ,EAAK,CAAC1B,EAAEE,IAAM4B,EACdR,KAAKT,SAAS,CAACb,EAAEE,IAAI6B,MAAM,QAAO,GAAG,IAAUvB,EAAEsB,GAAGtB,GAAC,MAAK,GAAG,IAAUA,EAAEsB,GAAGtB,GAAC,MAAK,GAAG,IAAUA,EAAEsB,GAAGtB,GAAC,OAEvGmB,EAAQ1B,KAAK,gBAAC,QAAY,CAAC+B,MAAO,CAChCC,QAAQ,cACRC,eAAe,SAASC,WAAW,SACnCC,MAAM,OACNC,OAAO,OACPC,SAAS,OACTC,SAAS,WAGTC,IAAM,GAAFxC,EACJyC,KAAO,GAAFvC,EACLwC,gBAAiBpB,KAAKT,SAAS,CAACb,EAAEE,IAClCyC,MAAO3C,IAAIE,EAAE,OAAO,SAClBwB,EAAK,CAAC1B,EAAEE,KAEd,CAEF,IAAI0C,EAAE,GACN,IAAQ5C,EAAE,EAAEA,EAAEQ,EAAER,IAAK,CACnB,IAAI6C,EAAI,IACR,IAAQ3C,EAAE,EAAEA,GAAGM,EAAEN,IACjB,GAAGwB,EAAK,CAAC1B,EAAEE,IAAMwB,EAAK,CAAC1B,EAAEE,EAAE,KAAOwB,EAAK,CAAC1B,EAAEE,IAAMwB,EAAK,CAAC1B,EAAE,EAAEE,IAAK,CAC7D2C,EAAI3C,EACJ,KACF,CAEA0C,EAAE3C,KAAK4C,EACT,CAEA,IAAIC,EAAQxB,KAAKX,MAAMC,QAAS,YAAc,WAC1CmC,EAAOH,EAAEI,KAAK,KAElB,OAAQ,gCACR,0BACA,qBAAGhB,MAAO,CAACM,SAAS,OAAOW,WAAW,YAAW,SAAQC,KAAKC,UAAUxD,IAExE,2CAAmBmD,GACnB,qBAAGd,MAAO,CAACM,SAAS,OAAOW,WAAW,YAAW,OAAMF,GACvD,uBAAKf,MAAO,CAACO,SAAS,WAAWF,OAAO,UACrCV,GAEH,0BAAQ7B,QAASwB,KAAKD,WAAWf,KAAKgB,OAAM,eAE9C,EAAC,EA9IU,CAAS8B,EAAAA,U","sources":["webpack://gatsby-starter-default/./src/pages/lis3.js"],"sourcesContent":["import * as React from \"react\"\nimport {Component, useState} from \"react\"\nimport { Link } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport \"../components/lis.css\"\nimport { animated, SpringValue } from '@react-spring/web'\nimport { faJournalWhills } from \"@fortawesome/free-solid-svg-icons\"\n\n\n\nconst SecondPage = () => {\n  // const [data, setData] = useState([1, 2, 10, 14, 8, 3, 4, 7, 13, 12, 5, 9, 15, 16, 11, 6]);\n  // const [data, setData] = useState([1, 2, 10, 14, 8, 3, 4, 7]);\n  const [data, setData] = useState([13, 12, 5, 9, 15, 16, 11]);\n  // const [data, setData] = useState([13, 12, 5, 9, 15, 16, 11, 6]);\n  const randomPermute = () => {\n    var p = []\n    for (var i = 0; i < 16; i++) p.push(i+1);\n    for (var i = 0; i < 16; i++) {\n      var j = Math.floor(Math.random() * (16 - i)) + i;\n      [p[i], p[j]] = [p[j], p[i]];\n    }\n    setData(p)\n  };\n  return (\n  <Layout>\n    <h1>Length Of LIS</h1>\n    <button onClick={randomPermute.bind(this)}>Change a Permutation</button>\n    <ShowLIS N={16} data={data}/>\n  </Layout>\n)};\n\nexport const Head = () => <Seo title=\"Page two\" />\n\nexport default SecondPage\n\nclass ShowLIS extends Component {\n  \n\n  computeLisByStep(step, data) {\n    var n = data.length;\n    var lis = []\n    var pos = {}\n    var depth = {}\n    for(var i=0;i<n;i++) {\n      depth[i]=0;\n      pos[i] = i;\n    }\n    for (var i = 0; i < step; i++) {\n      if (lis.length === 0 || data[lis[lis.length-1]] < data[i]) {\n        lis.push(i);\n        pos[i] = lis.length-1;\n        depth[i] = 1;\n      } else {\n        for (var j = 0; j < lis.length; j++) {\n          if (data[lis[j]] >= data[i]) {\n            depth[i] = depth[lis[j]]+1;\n            lis[j] = i;\n            pos[i] = j;\n            break;\n          }\n        }\n      }\n    }\n    return {lis: lis, pos: pos, depth: depth};\n  }\n\n  constructor(props) {\n    super(props);\n    var n = props.data.length;\n    var N = props.N;\n    this.state={\n      viewdif: false\n    };\n    // this.springLeft = []\n    // this.springTop = []\n    // this.springBackgroundColor = []\n    // this.springBorderColor = []\n    // for(var i = 0; i < n ;i++) {\n    //   this.springLeft.push(new SpringValue(i*60));\n    //   this.springTop.push(new SpringValue(300));\n    //   this.springBackgroundColor.push(new SpringValue(`rgb(90%,90%,90%)`))\n    //   this.springBorderColor.push(new SpringValue(\"#777777\"))\n    // }\n    this.springBG = {};\n    for(var i=0;i<=N;i++)\n    for(var j=0;j<=N;j++) this.springBG[[i,j]] = new SpringValue(`rgb(90%,90%,90%)`);\n  }\n\n  toggleView() {\n    var state = {...this.state}\n    state.viewdif = !state.viewdif\n    this.setState(state);\n  }\n\n  getlislen(data) {\n    var lis=[]\n    for(var i=0;i<data.length;i++) {\n      if(lis.length===0 || lis[lis.length-1]<data[i]) lis.push(data[i])\n      else {\n        for(var j=0;j<data.length;j++) {\n          if(lis[j] >= data[i]) {\n            lis[j] = data[i];\n            break;\n          }\n        }\n      }\n    }\n    return lis.length;\n  }\n  \n  render() {\n    const data = this.props.data;\n    const n = data.length;\n    const N = this.props.N;\n    // var fromlis = this.computeLisByStep(this.state.prevstep, data);\n\n    var tabl = {}\n    var squares = [];\n    for(var i=0;i<=N;i++) {\n      for(var j=i;j<=N;j++) {\n        var d = []\n        for(var k=0;k<n;k++) if(data[k]>=i+1 && data[k]<=j) {\n          d.push(data[k])\n        }\n        var q = this.getlislen(d)\n        \n        if (this.state.viewdif === false) {\n          tabl[[i,j]] = q\n          this.springBG[[i,j]].start(`rgb(${100}%,${30+(100-30)*(N-q)/N}%,${30+(100-30)*(N-q)/N}%)`);\n        } else {\n          q = (i<=j? j-i-q : 0);\n          tabl[[i,j]] = q\n          this.springBG[[i,j]].start(`rgb(${13+(100-13)*(N-q)/N}%,${54+(100-54)*(N-q)/N}%,${13+(100-13)*(N-q)/N}%)`);\n        }\n        squares.push(<animated.div style={{\n          display:\"inline-flex\",\n          justifyContent:\"center\",alignItems:\"center\",\n          width:\"30px\",\n          height:\"30px\",\n          fontSize:\"20px\",\n          position:\"absolute\",\n          //borderWidth:\"2px\",\n          //borderStyle:\"solid\",\n          top:i*30,\n          left:j*30,\n          backgroundColor: this.springBG[[i,j]],\n          color:(i===j?'#DDD':'#000'),\n        }}>{tabl[[i,j]]}</animated.div>\n        )\n      }\n    }\n    var P=[]\n    for(var i=0;i<N;i++) {\n      var c = \"x\";\n      for(var j=1;j<=N;j++) {\n      if(tabl[[i,j]] > tabl[[i,j-1]] && tabl[[i,j]] > tabl[[i+1,j]]) {\n        c = j;\n        break;\n      }\n    }\n      P.push(c);\n    }\n\n    var vstr = (this.state.viewdif? \"Diff View\" : \"LIS View\");\n    var Pstr = P.join(\",\");\n\n    return (<>\n    <p></p>\n    <p style={{fontSize:\"20px\",fontFamily:\"Courier\"}}>Data: {JSON.stringify(data)}</p>\n\n    <h2>Current View: {vstr}</h2>\n    <p style={{fontSize:\"20px\",fontFamily:\"Courier\"}}>P = {Pstr}</p>\n    <div style={{position:\"relative\",height:\"480px\"}}>\n      {squares}\n    </div>\n    <button onClick={this.toggleView.bind(this)}>Toggle View</button>\n    </>);\n  }\n}"],"names":["Head","title","data","setData","useState","onClick","p","i","push","j","Math","floor","random","bind","ShowLIS","N","props","length","state","viewdif","springBG","SpringValue","computeLisByStep","step","n","lis","pos","depth","toggleView","this","setState","getlislen","render","tabl","squares","d","k","q","start","style","display","justifyContent","alignItems","width","height","fontSize","position","top","left","backgroundColor","color","P","c","vstr","Pstr","join","fontFamily","JSON","stringify","Component"],"sourceRoot":""}